<!DOCTYPE html><html lang="en-CA"><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width,height=device-height,initial-scale=1.0"><meta name="apple-mobile-web-app-capable" content="yes"><meta http-equiv="X-UA-Compatible" content="ie=edge"><meta property="og:type" content="website"><meta name="twitter:card" content="summary"><style>@media screen{body[data-bespoke-view=""] .bespoke-marp-parent>.bespoke-marp-osc>button,body[data-bespoke-view=next] .bespoke-marp-parent>.bespoke-marp-osc>button,body[data-bespoke-view=presenter] .bespoke-marp-presenter-container .bespoke-marp-presenter-info-container button,body[data-bespoke-view=presenter] .bespoke-marp-presenter-container .bespoke-marp-presenter-note-container button{-webkit-tap-highlight-color:transparent;-webkit-appearance:none;appearance:none;background-color:transparent;border:0;color:inherit;cursor:pointer;font-size:inherit;opacity:.8;outline:none;padding:0;transition:opacity .2s linear}body[data-bespoke-view=""] .bespoke-marp-parent>.bespoke-marp-osc>button:disabled,body[data-bespoke-view=next] .bespoke-marp-parent>.bespoke-marp-osc>button:disabled,body[data-bespoke-view=presenter] .bespoke-marp-presenter-container .bespoke-marp-presenter-info-container button:disabled,body[data-bespoke-view=presenter] .bespoke-marp-presenter-container .bespoke-marp-presenter-note-container button:disabled{cursor:not-allowed;opacity:.15!important}body[data-bespoke-view=""] .bespoke-marp-parent>.bespoke-marp-osc>button:hover,body[data-bespoke-view=next] .bespoke-marp-parent>.bespoke-marp-osc>button:hover,body[data-bespoke-view=presenter] .bespoke-marp-presenter-container .bespoke-marp-presenter-info-container button:hover,body[data-bespoke-view=presenter] .bespoke-marp-presenter-container .bespoke-marp-presenter-note-container button:hover{opacity:1}body[data-bespoke-view=""] .bespoke-marp-parent>.bespoke-marp-osc>button:hover:active,body[data-bespoke-view=next] .bespoke-marp-parent>.bespoke-marp-osc>button:hover:active,body[data-bespoke-view=presenter] .bespoke-marp-presenter-container .bespoke-marp-presenter-info-container button:hover:active,body[data-bespoke-view=presenter] .bespoke-marp-presenter-container .bespoke-marp-presenter-note-container button:hover:active{opacity:.6}body[data-bespoke-view=""] .bespoke-marp-parent>.bespoke-marp-osc>button:hover:not(:disabled),body[data-bespoke-view=next] .bespoke-marp-parent>.bespoke-marp-osc>button:hover:not(:disabled),body[data-bespoke-view=presenter] .bespoke-marp-presenter-container .bespoke-marp-presenter-info-container button:hover:not(:disabled),body[data-bespoke-view=presenter] .bespoke-marp-presenter-container .bespoke-marp-presenter-note-container button:hover:not(:disabled){transition:none}body[data-bespoke-view=""] .bespoke-marp-parent>.bespoke-marp-osc>button[data-bespoke-marp-osc=prev],body[data-bespoke-view=next] .bespoke-marp-parent>.bespoke-marp-osc>button[data-bespoke-marp-osc=prev],body[data-bespoke-view=presenter] .bespoke-marp-presenter-container .bespoke-marp-presenter-info-container button.bespoke-marp-presenter-info-page-prev{background:transparent url("data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAxMDAgMTAwIj48cGF0aCBmaWxsPSJub25lIiBzdHJva2U9IiNmZmYiIHN0cm9rZS1saW5lY2FwPSJyb3VuZCIgc3Ryb2tlLWxpbmVqb2luPSJyb3VuZCIgc3Ryb2tlLXdpZHRoPSI1IiBkPSJNNjggOTAgMjggNTBsNDAtNDAiLz48L3N2Zz4=") no-repeat 50%;background-size:contain;overflow:hidden;text-indent:100%;white-space:nowrap}body[data-bespoke-view=""] .bespoke-marp-parent>.bespoke-marp-osc>button[data-bespoke-marp-osc=next],body[data-bespoke-view=next] .bespoke-marp-parent>.bespoke-marp-osc>button[data-bespoke-marp-osc=next],body[data-bespoke-view=presenter] .bespoke-marp-presenter-container .bespoke-marp-presenter-info-container button.bespoke-marp-presenter-info-page-next{background:transparent url("data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAxMDAgMTAwIj48cGF0aCBmaWxsPSJub25lIiBzdHJva2U9IiNmZmYiIHN0cm9rZS1saW5lY2FwPSJyb3VuZCIgc3Ryb2tlLWxpbmVqb2luPSJyb3VuZCIgc3Ryb2tlLXdpZHRoPSI1IiBkPSJtMzIgOTAgNDAtNDAtNDAtNDAiLz48L3N2Zz4=") no-repeat 50%;background-size:contain;overflow:hidden;text-indent:100%;white-space:nowrap}body[data-bespoke-view=""] .bespoke-marp-parent>.bespoke-marp-osc>button[data-bespoke-marp-osc=fullscreen],body[data-bespoke-view=next] .bespoke-marp-parent>.bespoke-marp-osc>button[data-bespoke-marp-osc=fullscreen]{background:transparent url("data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAxMDAgMTAwIj48ZGVmcz48c3R5bGU+LmF7ZmlsbDpub25lO3N0cm9rZTojZmZmO3N0cm9rZS1saW5lY2FwOnJvdW5kO3N0cm9rZS1saW5lam9pbjpyb3VuZDtzdHJva2Utd2lkdGg6NXB4fTwvc3R5bGU+PC9kZWZzPjxyZWN0IGNsYXNzPSJhIiB4PSIxMCIgeT0iMjAiIHdpZHRoPSI4MCIgaGVpZ2h0PSI2MCIgcng9IjUuNjciLz48cGF0aCBjbGFzcz0iYSIgZD0iTTQwIDcwSDIwVjUwbTIwIDBMMjAgNzBtNDAtNDBoMjB2MjBtLTIwIDAgMjAtMjAiLz48L3N2Zz4=") no-repeat 50%;background-size:contain;overflow:hidden;text-indent:100%;white-space:nowrap}body[data-bespoke-view=""] .bespoke-marp-parent>.bespoke-marp-osc>button.exit[data-bespoke-marp-osc=fullscreen],body[data-bespoke-view=next] .bespoke-marp-parent>.bespoke-marp-osc>button.exit[data-bespoke-marp-osc=fullscreen]{background-image:url("data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAxMDAgMTAwIj48ZGVmcz48c3R5bGU+LmF7ZmlsbDpub25lO3N0cm9rZTojZmZmO3N0cm9rZS1saW5lY2FwOnJvdW5kO3N0cm9rZS1saW5lam9pbjpyb3VuZDtzdHJva2Utd2lkdGg6NXB4fTwvc3R5bGU+PC9kZWZzPjxyZWN0IGNsYXNzPSJhIiB4PSIxMCIgeT0iMjAiIHdpZHRoPSI4MCIgaGVpZ2h0PSI2MCIgcng9IjUuNjciLz48cGF0aCBjbGFzcz0iYSIgZD0iTTIwIDUwaDIwdjIwbS0yMCAwIDIwLTIwbTQwIDBINjBWMzBtMjAgMEw2MCA1MCIvPjwvc3ZnPg==")}body[data-bespoke-view=""] .bespoke-marp-parent>.bespoke-marp-osc>button[data-bespoke-marp-osc=presenter],body[data-bespoke-view=next] .bespoke-marp-parent>.bespoke-marp-osc>button[data-bespoke-marp-osc=presenter]{background:transparent url("data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAxMDAgMTAwIj48cGF0aCBkPSJNODcuOCA0Ny41Qzg5IDUwIDg3LjcgNTIgODUgNTJIMzVhOC43IDguNyAwIDAgMS03LjItNC41bC0xNS42LTMxQzExIDE0IDEyLjIgMTIgMTUgMTJoNTBhOC44IDguOCAwIDAgMSA3LjIgNC41ek02MCA1MnYzNm0tMTAgMGgyME00NSA0MmgyMCIgZmlsbD0ibm9uZSIgc3Ryb2tlPSIjZmZmIiBzdHJva2UtbGluZWNhcD0icm91bmQiIHN0cm9rZS1saW5lam9pbj0icm91bmQiIHN0cm9rZS13aWR0aD0iNSIvPjwvc3ZnPg==") no-repeat 50%;background-size:contain;overflow:hidden;text-indent:100%;white-space:nowrap}body[data-bespoke-view=presenter] .bespoke-marp-presenter-container .bespoke-marp-presenter-note-container button.bespoke-marp-presenter-note-bigger{background:transparent url("data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAxMDAgMTAwIj48cGF0aCBkPSJNMTIgNTBoODBNNTIgOTBWMTAiIHN0cm9rZT0iI2ZmZiIgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIiBzdHJva2UtbGluZWpvaW49InJvdW5kIiBzdHJva2Utd2lkdGg9IjUiLz48L3N2Zz4=") no-repeat 50%;background-size:contain;overflow:hidden;text-indent:100%;white-space:nowrap}body[data-bespoke-view=presenter] .bespoke-marp-presenter-container .bespoke-marp-presenter-note-container button.bespoke-marp-presenter-note-smaller{background:transparent url("data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAxMDAgMTAwIj48cGF0aCBkPSJNMTIgNTBoODAiIGZpbGw9Im5vbmUiIHN0cm9rZT0iI2ZmZiIgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIiBzdHJva2UtbGluZWpvaW49InJvdW5kIiBzdHJva2Utd2lkdGg9IjUiLz48L3N2Zz4=") no-repeat 50%;background-size:contain;overflow:hidden;text-indent:100%;white-space:nowrap}}@keyframes __bespoke_marp_transition_reduced_outgoing__{0%{opacity:1}to{opacity:0}}@keyframes __bespoke_marp_transition_reduced_incoming__{0%{mix-blend-mode:plus-lighter;opacity:0}to{mix-blend-mode:plus-lighter;opacity:1}}.bespoke-marp-note,.bespoke-marp-osc,.bespoke-progress-parent{display:none;transition:none}@media screen{::page-transition-container(*){animation-duration:var(--marp-bespoke-transition-animation-duration,.5s);animation-timing-function:ease}::page-transition-incoming-image(*),::page-transition-outgoing-image(*){animation-delay:0s;animation-direction:var(--marp-bespoke-transition-animation-direction,normal);animation-duration:var(--marp-bespoke-transition-animation-duration,.5s);animation-fill-mode:both;animation-name:var(--marp-bespoke-transition-animation-name,var(--marp-bespoke-transition-animation-name-fallback,__bespoke_marp_transition_no_animation__));mix-blend-mode:normal}::page-transition-outgoing-image(*){--marp-bespoke-transition-animation-name-fallback:__bespoke_marp_transition_reduced_outgoing__;animation-timing-function:ease}::page-transition-incoming-image(*){--marp-bespoke-transition-animation-name-fallback:__bespoke_marp_transition_reduced_incoming__;animation-timing-function:ease}::page-transition-incoming-image(root),::page-transition-outgoing-image(root){animation-timing-function:linear}::page-transition-incoming-image(__bespoke_marp_transition_osc__),::page-transition-outgoing-image(__bespoke_marp_transition_osc__){animation-duration:0s!important;animation-name:__bespoke_marp_transition_osc__!important}::page-transition-incoming-image(__bespoke_marp_transition_osc__){opacity:0!important}.bespoke-marp-transition-warming-up::page-transition-container(*),.bespoke-marp-transition-warming-up::page-transition-incoming-image(*),.bespoke-marp-transition-warming-up::page-transition-outgoing-image(*){animation-play-state:paused!important}body,html{height:100%;margin:0}body{background:#000;overflow:hidden}svg.bespoke-marp-slide{content-visibility:hidden;opacity:0;pointer-events:none;z-index:-1}svg.bespoke-marp-slide:not(.bespoke-marp-active) *{page-transition-tag:none!important}svg.bespoke-marp-slide.bespoke-marp-active{content-visibility:visible;opacity:1;pointer-events:auto;z-index:0}svg.bespoke-marp-slide.bespoke-marp-active.bespoke-marp-active-ready *{animation-name:__bespoke_marp__!important}@supports not (content-visibility:hidden){svg.bespoke-marp-slide[data-bespoke-marp-load=hideable]{display:none}svg.bespoke-marp-slide[data-bespoke-marp-load=hideable].bespoke-marp-active{display:block}}}@media screen and (prefers-reduced-motion:reduce){svg.bespoke-marp-slide *{page-transition-tag:none!important}}@media screen{[data-bespoke-marp-fragment=inactive]{visibility:hidden}body[data-bespoke-view=""] .bespoke-marp-parent,body[data-bespoke-view=next] .bespoke-marp-parent{bottom:0;left:0;position:absolute;right:0;top:0}body[data-bespoke-view=""] .bespoke-marp-parent>.bespoke-marp-osc,body[data-bespoke-view=next] .bespoke-marp-parent>.bespoke-marp-osc{page-transition-tag:__bespoke_marp_transition_osc__;background:rgba(0,0,0,.65);border-radius:7px;bottom:50px;color:#fff;contain:paint;display:block;font-family:Helvetica,Arial,sans-serif;font-size:16px;left:50%;line-height:0;opacity:1;padding:12px;position:absolute;touch-action:manipulation;transform:translateX(-50%);transition:opacity .2s linear;-webkit-user-select:none;user-select:none;white-space:nowrap;will-change:transform;z-index:1}body[data-bespoke-view=""] .bespoke-marp-parent>.bespoke-marp-osc>*,body[data-bespoke-view=next] .bespoke-marp-parent>.bespoke-marp-osc>*{margin-left:6px}body[data-bespoke-view=""] .bespoke-marp-parent>.bespoke-marp-osc>:first-child,body[data-bespoke-view=next] .bespoke-marp-parent>.bespoke-marp-osc>:first-child{margin-left:0}body[data-bespoke-view=""] .bespoke-marp-parent>.bespoke-marp-osc>span,body[data-bespoke-view=next] .bespoke-marp-parent>.bespoke-marp-osc>span{opacity:.8}body[data-bespoke-view=""] .bespoke-marp-parent>.bespoke-marp-osc>span[data-bespoke-marp-osc=page],body[data-bespoke-view=next] .bespoke-marp-parent>.bespoke-marp-osc>span[data-bespoke-marp-osc=page]{display:inline-block;min-width:140px;text-align:center}body[data-bespoke-view=""] .bespoke-marp-parent>.bespoke-marp-osc>button[data-bespoke-marp-osc=fullscreen],body[data-bespoke-view=""] .bespoke-marp-parent>.bespoke-marp-osc>button[data-bespoke-marp-osc=next],body[data-bespoke-view=""] .bespoke-marp-parent>.bespoke-marp-osc>button[data-bespoke-marp-osc=presenter],body[data-bespoke-view=""] .bespoke-marp-parent>.bespoke-marp-osc>button[data-bespoke-marp-osc=prev],body[data-bespoke-view=next] .bespoke-marp-parent>.bespoke-marp-osc>button[data-bespoke-marp-osc=fullscreen],body[data-bespoke-view=next] .bespoke-marp-parent>.bespoke-marp-osc>button[data-bespoke-marp-osc=next],body[data-bespoke-view=next] .bespoke-marp-parent>.bespoke-marp-osc>button[data-bespoke-marp-osc=presenter],body[data-bespoke-view=next] .bespoke-marp-parent>.bespoke-marp-osc>button[data-bespoke-marp-osc=prev]{height:32px;line-height:32px;width:32px}body[data-bespoke-view=""] .bespoke-marp-parent.bespoke-marp-inactive,body[data-bespoke-view=next] .bespoke-marp-parent.bespoke-marp-inactive{cursor:none}body[data-bespoke-view=""] .bespoke-marp-parent.bespoke-marp-inactive>.bespoke-marp-osc,body[data-bespoke-view=next] .bespoke-marp-parent.bespoke-marp-inactive>.bespoke-marp-osc{opacity:0;pointer-events:none}body[data-bespoke-view=""] svg.bespoke-marp-slide,body[data-bespoke-view=next] svg.bespoke-marp-slide{height:100%;left:0;position:absolute;top:0;width:100%}body[data-bespoke-view=""] .bespoke-progress-parent{background:#222;display:flex;height:5px;width:100%}body[data-bespoke-view=""] .bespoke-progress-parent+.bespoke-marp-parent{top:5px}body[data-bespoke-view=""] .bespoke-progress-parent .bespoke-progress-bar{background:#0288d1;flex:0 0 0;transition:flex-basis .2s cubic-bezier(0,1,1,1)}body[data-bespoke-view=next]{background:transparent}body[data-bespoke-view=presenter]{background:#161616}body[data-bespoke-view=presenter] .bespoke-marp-presenter-container{display:grid;font-family:Helvetica,Arial,sans-serif;grid-template:"current dragbar next" minmax(140px,1fr) "current dragbar note" 2fr "info    dragbar note" 3em;grid-template-columns:minmax(3px,var(--bespoke-marp-presenter-split-ratio,66%)) 0 minmax(3px,1fr);height:100%;left:0;position:absolute;top:0;width:100%}body[data-bespoke-view=presenter] .bespoke-marp-presenter-container .bespoke-marp-parent{grid-area:current;overflow:hidden;position:relative}body[data-bespoke-view=presenter] .bespoke-marp-presenter-container .bespoke-marp-parent svg.bespoke-marp-slide{height:calc(100% - 40px);left:20px;pointer-events:none;position:absolute;top:20px;-webkit-user-select:none;user-select:none;width:calc(100% - 40px)}body[data-bespoke-view=presenter] .bespoke-marp-presenter-container .bespoke-marp-parent svg.bespoke-marp-slide.bespoke-marp-active{filter:drop-shadow(0 3px 10px rgba(0,0,0,.5))}body[data-bespoke-view=presenter] .bespoke-marp-presenter-container .bespoke-marp-presenter-dragbar-container{background:#0288d1;cursor:col-resize;grid-area:dragbar;margin-left:-3px;opacity:0;position:relative;transition:opacity .4s linear .1s;width:6px;z-index:10}body[data-bespoke-view=presenter] .bespoke-marp-presenter-container .bespoke-marp-presenter-dragbar-container:hover{opacity:1}body[data-bespoke-view=presenter] .bespoke-marp-presenter-container .bespoke-marp-presenter-dragbar-container.active{opacity:1;transition-delay:0s}body[data-bespoke-view=presenter] .bespoke-marp-presenter-container .bespoke-marp-presenter-next-container{background:#222;cursor:pointer;display:none;grid-area:next;overflow:hidden;position:relative}body[data-bespoke-view=presenter] .bespoke-marp-presenter-container .bespoke-marp-presenter-next-container.active{display:block}body[data-bespoke-view=presenter] .bespoke-marp-presenter-container .bespoke-marp-presenter-next-container iframe.bespoke-marp-presenter-next{background:transparent;border:0;display:block;filter:drop-shadow(0 3px 10px rgba(0,0,0,.5));height:calc(100% - 40px);left:20px;pointer-events:none;position:absolute;top:20px;-webkit-user-select:none;user-select:none;width:calc(100% - 40px)}body[data-bespoke-view=presenter] .bespoke-marp-presenter-container .bespoke-marp-presenter-note-container{background:#222;color:#eee;grid-area:note;position:relative;z-index:1}body[data-bespoke-view=presenter] .bespoke-marp-presenter-container .bespoke-marp-presenter-note-container button{height:1.5em;line-height:1.5em;width:1.5em}body[data-bespoke-view=presenter] .bespoke-marp-presenter-container .bespoke-marp-presenter-note-container .bespoke-marp-presenter-note-wrapper{bottom:0;display:block;left:0;position:absolute;right:0;top:0}body[data-bespoke-view=presenter] .bespoke-marp-presenter-container .bespoke-marp-presenter-note-container .bespoke-marp-presenter-note-buttons{background:rgba(0,0,0,.65);border-radius:4px;bottom:0;display:flex;gap:4px;margin:12px;opacity:0;padding:6px;pointer-events:none;position:absolute;right:0;transition:opacity .2s linear}}@media screen{body[data-bespoke-view=presenter] .bespoke-marp-presenter-container .bespoke-marp-presenter-note-container .bespoke-marp-presenter-note-buttons:focus-within,body[data-bespoke-view=presenter] .bespoke-marp-presenter-container .bespoke-marp-presenter-note-container .bespoke-marp-presenter-note-wrapper:focus-within+.bespoke-marp-presenter-note-buttons,body[data-bespoke-view=presenter] .bespoke-marp-presenter-container .bespoke-marp-presenter-note-container:hover .bespoke-marp-presenter-note-buttons{opacity:1;pointer-events:auto}body[data-bespoke-view=presenter] .bespoke-marp-presenter-container .bespoke-marp-presenter-note-container .bespoke-marp-note{word-wrap:break-word;box-sizing:border-box;font-size:calc(1.1em*var(--bespoke-marp-note-font-scale, 1));height:calc(100% - 40px);margin:20px;overflow:auto;padding-right:3px;scrollbar-color:hsla(0,0%,93%,.5) transparent;scrollbar-width:thin;white-space:pre-wrap;width:calc(100% - 40px)}body[data-bespoke-view=presenter] .bespoke-marp-presenter-container .bespoke-marp-presenter-note-container .bespoke-marp-note::-webkit-scrollbar{width:6px}body[data-bespoke-view=presenter] .bespoke-marp-presenter-container .bespoke-marp-presenter-note-container .bespoke-marp-note::-webkit-scrollbar-track{background:transparent}body[data-bespoke-view=presenter] .bespoke-marp-presenter-container .bespoke-marp-presenter-note-container .bespoke-marp-note::-webkit-scrollbar-thumb{background:hsla(0,0%,93%,.5);border-radius:6px}body[data-bespoke-view=presenter] .bespoke-marp-presenter-container .bespoke-marp-presenter-note-container .bespoke-marp-note:empty{pointer-events:none}body[data-bespoke-view=presenter] .bespoke-marp-presenter-container .bespoke-marp-presenter-note-container .bespoke-marp-note.active{display:block}body[data-bespoke-view=presenter] .bespoke-marp-presenter-container .bespoke-marp-presenter-note-container .bespoke-marp-note p:first-child{margin-top:0}body[data-bespoke-view=presenter] .bespoke-marp-presenter-container .bespoke-marp-presenter-note-container .bespoke-marp-note p:last-child{margin-bottom:0}body[data-bespoke-view=presenter] .bespoke-marp-presenter-container .bespoke-marp-presenter-info-container{align-items:center;box-sizing:border-box;color:#eee;display:flex;flex-wrap:nowrap;grid-area:info;justify-content:center;overflow:hidden;padding:0 10px}body[data-bespoke-view=presenter] .bespoke-marp-presenter-container .bespoke-marp-presenter-info-container .bespoke-marp-presenter-info-page,body[data-bespoke-view=presenter] .bespoke-marp-presenter-container .bespoke-marp-presenter-info-container .bespoke-marp-presenter-info-time,body[data-bespoke-view=presenter] .bespoke-marp-presenter-container .bespoke-marp-presenter-info-container .bespoke-marp-presenter-info-timer{box-sizing:border-box;display:block;padding:0 10px;white-space:nowrap;width:100%}body[data-bespoke-view=presenter] .bespoke-marp-presenter-container .bespoke-marp-presenter-info-container button{height:1.5em;line-height:1.5em;width:1.5em}body[data-bespoke-view=presenter] .bespoke-marp-presenter-container .bespoke-marp-presenter-info-container .bespoke-marp-presenter-info-page{order:2;text-align:center}body[data-bespoke-view=presenter] .bespoke-marp-presenter-container .bespoke-marp-presenter-info-container .bespoke-marp-presenter-info-page .bespoke-marp-presenter-info-page-text{display:inline-block;min-width:120px;text-align:center}body[data-bespoke-view=presenter] .bespoke-marp-presenter-container .bespoke-marp-presenter-info-container .bespoke-marp-presenter-info-time{color:#999;order:1;text-align:left}body[data-bespoke-view=presenter] .bespoke-marp-presenter-container .bespoke-marp-presenter-info-container .bespoke-marp-presenter-info-timer{color:#999;order:3;text-align:right}body[data-bespoke-view=presenter] .bespoke-marp-presenter-container .bespoke-marp-presenter-info-container .bespoke-marp-presenter-info-timer:hover{cursor:pointer}}@media print{.bespoke-marp-presenter-info-container,.bespoke-marp-presenter-next-container,.bespoke-marp-presenter-note-container{display:none}}</style><style>@charset "UTF-8";@import url("https://fonts.googleapis.com/css?family=Lato:400,900|Roboto+Mono:400,700&display=swap");@import url('https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.1.1/css/all.min.css');@import url('https://cdn.jsdelivr.net/npm/hack-font@3/build/web/hack-subset.css');div#p>svg>foreignObject>section{width:1280px;height:720px;box-sizing:border-box;overflow:hidden;position:relative;scroll-snap-align:center center}div#p>svg>foreignObject>section:after{bottom:0;content:attr(data-marpit-pagination);padding:inherit;pointer-events:none;position:absolute;right:0}div#p>svg>foreignObject>section:not([data-marpit-pagination]):after{display:none}/* Normalization */div#p>svg>foreignObject>section :is(h1,marp-h1){font-size:2em;margin:0.67em 0}div#p>svg>foreignObject>section video::-webkit-media-controls{will-change:transform}@page{size:1280px 720px;margin:0}@media print{body,html{background-color:#fff;margin:0;page-break-inside:avoid;break-inside:avoid-page}div#p>svg>foreignObject>section{page-break-before:always;break-before:page}div#p>svg>foreignObject>section,div#p>svg>foreignObject>section *{-webkit-print-color-adjust:exact!important;animation-delay:0s!important;animation-duration:0s!important;color-adjust:exact!important;transition:none!important}div#p>svg[data-marpit-svg]{display:block;height:100vh;width:100vw}}div#p>svg>foreignObject>section img[data-marp-twemoji]{background:transparent;height:1em;margin:0 .05em 0 .1em;vertical-align:-.1em;width:1em}
/*!
 * Marp / Marpit Gaia theme.
 *
 * @theme gaia
 * @author Yuki Hattori
 *
 * @auto-scaling true
 * @size 16:9 1280px 720px
 * @size 4:3 960px 720px
 */div#p>svg>foreignObject>section :is(pre,marp-pre) code.hljs{display:block;overflow-x:auto;padding:1em}div#p>svg>foreignObject>section code.hljs{padding:3px 5px}div#p>svg>foreignObject>section .hljs{background:#000;color:#f8f8f8}div#p>svg>foreignObject>section .hljs-comment,div#p>svg>foreignObject>section .hljs-quote{color:#aeaeae;font-style:italic}div#p>svg>foreignObject>section .hljs-keyword,div#p>svg>foreignObject>section .hljs-selector-tag,div#p>svg>foreignObject>section .hljs-type{color:#e28964}div#p>svg>foreignObject>section .hljs-string{color:#65b042}div#p>svg>foreignObject>section .hljs-subst{color:#daefa3}div#p>svg>foreignObject>section .hljs-link,div#p>svg>foreignObject>section .hljs-regexp{color:#e9c062}div#p>svg>foreignObject>section .hljs-name,div#p>svg>foreignObject>section .hljs-section,div#p>svg>foreignObject>section .hljs-tag,div#p>svg>foreignObject>section .hljs-title{color:#89bdff}div#p>svg>foreignObject>section .hljs-class .hljs-title,div#p>svg>foreignObject>section .hljs-doctag,div#p>svg>foreignObject>section .hljs-title.class_{text-decoration:underline}div#p>svg>foreignObject>section .hljs-bullet,div#p>svg>foreignObject>section .hljs-number,div#p>svg>foreignObject>section .hljs-symbol{color:#3387cc}div#p>svg>foreignObject>section .hljs-params,div#p>svg>foreignObject>section .hljs-template-variable,div#p>svg>foreignObject>section .hljs-variable{color:#3e87e3}div#p>svg>foreignObject>section .hljs-attribute{color:#cda869}div#p>svg>foreignObject>section .hljs-meta{color:#8996a8}div#p>svg>foreignObject>section .hljs-formula{background-color:#0e2231;color:#f8f8f8;font-style:italic}div#p>svg>foreignObject>section .hljs-addition{background-color:#253b22;color:#f8f8f8}div#p>svg>foreignObject>section .hljs-deletion{background-color:#420e09;color:#f8f8f8}div#p>svg>foreignObject>section .hljs-selector-class{color:#9b703f}div#p>svg>foreignObject>section .hljs-selector-id{color:#8b98ab}div#p>svg>foreignObject>section .hljs-emphasis{font-style:italic}div#p>svg>foreignObject>section .hljs-strong{font-weight:700}div#p>svg>foreignObject>section :is(h1,marp-h1),div#p>svg>foreignObject>section :is(h2,marp-h2),div#p>svg>foreignObject>section :is(h3,marp-h3),div#p>svg>foreignObject>section :is(h4,marp-h4),div#p>svg>foreignObject>section :is(h5,marp-h5),div#p>svg>foreignObject>section :is(h6,marp-h6){margin:.5em 0 0}div#p>svg>foreignObject>section :is(h1,marp-h1) strong,div#p>svg>foreignObject>section :is(h2,marp-h2) strong,div#p>svg>foreignObject>section :is(h3,marp-h3) strong,div#p>svg>foreignObject>section :is(h4,marp-h4) strong,div#p>svg>foreignObject>section :is(h5,marp-h5) strong,div#p>svg>foreignObject>section :is(h6,marp-h6) strong{font-weight:inherit}div#p>svg>foreignObject>section :is(h1,marp-h1)::part(auto-scaling),div#p>svg>foreignObject>section :is(h2,marp-h2)::part(auto-scaling),div#p>svg>foreignObject>section :is(h3,marp-h3)::part(auto-scaling),div#p>svg>foreignObject>section :is(h4,marp-h4)::part(auto-scaling),div#p>svg>foreignObject>section :is(h5,marp-h5)::part(auto-scaling),div#p>svg>foreignObject>section :is(h6,marp-h6)::part(auto-scaling){max-height:580px}div#p>svg>foreignObject>section :is(h1,marp-h1){font-size:1.8em}div#p>svg>foreignObject>section :is(h2,marp-h2){font-size:1.5em}div#p>svg>foreignObject>section :is(h3,marp-h3){font-size:1.3em}div#p>svg>foreignObject>section :is(h4,marp-h4){font-size:1.1em}div#p>svg>foreignObject>section :is(h5,marp-h5){font-size:1em}div#p>svg>foreignObject>section :is(h6,marp-h6){font-size:.9em}div#p>svg>foreignObject>section blockquote,div#p>svg>foreignObject>section p{margin:1em 0 0}div#p>svg>foreignObject>section ol>li,div#p>svg>foreignObject>section ul>li{margin:.3em 0 0}div#p>svg>foreignObject>section ol>li>p,div#p>svg>foreignObject>section ul>li>p{margin:.6em 0 0}div#p>svg>foreignObject>section code{display:inline-block;font-family:Roboto Mono,monospace;font-size:.8em;letter-spacing:0;margin:-.1em .15em;padding:.1em .2em;vertical-align:baseline}div#p>svg>foreignObject>section :is(pre,marp-pre){display:block;margin:1em 0 0;overflow:visible}div#p>svg>foreignObject>section :is(pre,marp-pre) code{box-sizing:border-box;font-size:.7em;margin:0;min-width:100%;padding:.5em}div#p>svg>foreignObject>section :is(pre,marp-pre)::part(auto-scaling){max-height:calc(580px - 1em)}div#p>svg>foreignObject>section blockquote{margin:1em 0 0;padding:0 1em;position:relative}div#p>svg>foreignObject>section blockquote:after,div#p>svg>foreignObject>section blockquote:before{content:"“";display:block;font-family:Times New Roman,serif;font-weight:700;position:absolute}div#p>svg>foreignObject>section blockquote:before{left:0;top:0}div#p>svg>foreignObject>section blockquote:after{bottom:0;right:0;transform:rotate(180deg)}div#p>svg>foreignObject>section blockquote>:first-child{margin-top:0}div#p>svg>foreignObject>section mark{background:transparent}div#p>svg>foreignObject>section table{border-collapse:collapse;border-spacing:0;margin:1em 0 0}div#p>svg>foreignObject>section table td,div#p>svg>foreignObject>section table th{border-style:solid;border-width:1px;padding:.2em .4em}div#p>svg>foreignObject>section footer,div#p>svg>foreignObject>section header,div#p>svg>foreignObject>section:after{box-sizing:border-box;font-size:66%;height:70px;line-height:50px;overflow:hidden;padding:10px 25px;position:absolute}div#p>svg>foreignObject>section:after{--marpit-root-font-size:66%}div#p>svg>foreignObject>section header{top:0}div#p>svg>foreignObject>section footer,div#p>svg>foreignObject>section header{left:0;right:0}div#p>svg>foreignObject>section footer{bottom:0}div#p>svg>foreignObject>section{word-wrap:break-word;--color-background:#fff8e1;--color-background-stripe:rgba(69,90,100,.1);--color-foreground:#455a64;--color-dimmed:#6a7a7d;--color-highlight:#0288d1;background-color:var(--color-background);background-image:linear-gradient(135deg,hsla(0,0%,53%,0),hsla(0,0%,53%,.02) 50%,hsla(0,0%,100%,0) 0,hsla(0,0%,100%,.05));color:var(--color-foreground);font-family:Lato,Avenir Next,Avenir,Trebuchet MS,Segoe UI,sans-serif;font-size:35px;height:720px;letter-spacing:1.25px;line-height:1.35;padding:70px;width:1280px}div#p>svg>foreignObject>section{--marpit-root-font-size:35px}div#p>svg>foreignObject>section:after{bottom:0;font-size:80%;right:0}div#p>svg>foreignObject>section:after{--marpit-root-font-size:80%}div#p>svg>foreignObject>section a,div#p>svg>foreignObject>section mark{color:var(--color-highlight)}div#p>svg>foreignObject>section code{background:var(--color-dimmed);color:var(--color-background)}div#p>svg>foreignObject>section :is(h1,marp-h1) strong,div#p>svg>foreignObject>section :is(h2,marp-h2) strong,div#p>svg>foreignObject>section :is(h3,marp-h3) strong,div#p>svg>foreignObject>section :is(h4,marp-h4) strong,div#p>svg>foreignObject>section :is(h5,marp-h5) strong,div#p>svg>foreignObject>section :is(h6,marp-h6) strong{color:var(--color-highlight)}div#p>svg>foreignObject>section :is(pre,marp-pre){background:var(--color-foreground)}div#p>svg>foreignObject>section :is(pre,marp-pre)>code{background:transparent}div#p>svg>foreignObject>section blockquote:after,div#p>svg>foreignObject>section blockquote:before,div#p>svg>foreignObject>section footer,div#p>svg>foreignObject>section header,div#p>svg>foreignObject>section section:after{color:var(--color-dimmed)}div#p>svg>foreignObject>section table td,div#p>svg>foreignObject>section table th{border-color:var(--color-foreground)}div#p>svg>foreignObject>section table thead th{background:var(--color-foreground);color:var(--color-background)}div#p>svg>foreignObject>section table tbody>tr:nth-child(odd) td,div#p>svg>foreignObject>section table tbody>tr:nth-child(odd) th{background:var(--color-background-stripe,transparent)}div#p>svg>foreignObject>section>:first-child,div#p>svg>foreignObject>section>header:first-child+*{margin-top:0}div#p>svg>foreignObject>section:where(.invert){--color-background:#455a64;--color-background-stripe:rgba(255,248,225,.1);--color-foreground:#fff8e1;--color-dimmed:#dad8c8;--color-highlight:#81d4fa}div#p>svg>foreignObject>section:where(.gaia){--color-background:#0288d1;--color-background-stripe:rgba(255,248,225,.1);--color-foreground:#fff8e1;--color-dimmed:#cce2de;--color-highlight:#81d4fa}div#p>svg>foreignObject>section:where(.lead){display:flex;flex-flow:column nowrap;justify-content:center}div#p>svg>foreignObject>section:where(.lead) :is(h1,marp-h1),div#p>svg>foreignObject>section:where(.lead) :is(h2,marp-h2),div#p>svg>foreignObject>section:where(.lead) :is(h3,marp-h3),div#p>svg>foreignObject>section:where(.lead) :is(h4,marp-h4),div#p>svg>foreignObject>section:where(.lead) :is(h5,marp-h5),div#p>svg>foreignObject>section:where(.lead) :is(h6,marp-h6){text-align:center}div#p>svg>foreignObject>section:where(.lead) p{text-align:center}div#p>svg>foreignObject>section:where(.lead) blockquote>:is(h1,marp-h1),div#p>svg>foreignObject>section:where(.lead) blockquote>:is(h2,marp-h2),div#p>svg>foreignObject>section:where(.lead) blockquote>:is(h3,marp-h3),div#p>svg>foreignObject>section:where(.lead) blockquote>:is(h4,marp-h4),div#p>svg>foreignObject>section:where(.lead) blockquote>:is(h5,marp-h5),div#p>svg>foreignObject>section:where(.lead) blockquote>:is(h6,marp-h6),div#p>svg>foreignObject>section:where(.lead) blockquote>p{text-align:left}div#p>svg>foreignObject>section:where(.lead) ol>li>p,div#p>svg>foreignObject>section:where(.lead) ul>li>p{text-align:left}div#p>svg>foreignObject>section:where(.lead) table{margin-left:auto;margin-right:auto}div#p>svg>foreignObject>section code{font-family:Hack}div#p>svg>foreignObject>section{font-family:Cantarell,sans-serif;letter-spacing:0}div#p>svg>foreignObject>section.lead.invert{text-shadow:0 0 10px black,0 0 20px black}div#p>svg>foreignObject>section ul ul li,div#p>svg>foreignObject>section.smaller-type li{font-size:85%}div#p>svg>foreignObject>section marp-pre,div#p>svg>foreignObject>section marp-pre code{background-color:#042029}div#p>svg>foreignObject>section .hljs-string{color:#8ae234}div#p>svg>foreignObject>section .hljs-literal,div#p>svg>foreignObject>section .hljs-number{color:#729fcf}div#p>svg>foreignObject>section .hljs-params{color:#e9b96e;font-style:italic}div#p>svg>foreignObject>section .hljs-built_in{color:#fce94f;font-weight:bold}div#p>svg>foreignObject>section .hljs-title.class_{color:#fce94f;text-decoration:none;font-weight:bold}div#p>svg>foreignObject>section .hljs-title.function_{color:#c8a8c4}div#p>svg>foreignObject>section .hljs-keyword{color:#fcaf3e;font-weight:bold}div#p>svg>foreignObject>section .hljs-attr{color:#e9b96e}div#p>svg>foreignObject>section .hljs-variable{color:red;font-weight:bold}
/* .hljs-comment, .hljs-regexp, .hljs-symbol */div#p>svg>foreignObject>section[data-marpit-advanced-background=background]{columns:initial!important;display:block!important;padding:0!important}div#p>svg>foreignObject>section[data-marpit-advanced-background=background]:after,div#p>svg>foreignObject>section[data-marpit-advanced-background=background]:before,div#p>svg>foreignObject>section[data-marpit-advanced-background=content]:after,div#p>svg>foreignObject>section[data-marpit-advanced-background=content]:before{display:none!important}div#p>svg>foreignObject>section[data-marpit-advanced-background=background]>div[data-marpit-advanced-background-container]{all:initial;display:flex;flex-direction:row;height:100%;overflow:hidden;width:100%}div#p>svg>foreignObject>section[data-marpit-advanced-background=background]>div[data-marpit-advanced-background-container][data-marpit-advanced-background-direction=vertical]{flex-direction:column}div#p>svg>foreignObject>section[data-marpit-advanced-background=background][data-marpit-advanced-background-split]>div[data-marpit-advanced-background-container]{width:var(--marpit-advanced-background-split,50%)}div#p>svg>foreignObject>section[data-marpit-advanced-background=background][data-marpit-advanced-background-split=right]>div[data-marpit-advanced-background-container]{margin-left:calc(100% - var(--marpit-advanced-background-split, 50%))}div#p>svg>foreignObject>section[data-marpit-advanced-background=background]>div[data-marpit-advanced-background-container]>figure{all:initial;background-position:center;background-repeat:no-repeat;background-size:cover;flex:auto;margin:0}div#p>svg>foreignObject>section[data-marpit-advanced-background=content],div#p>svg>foreignObject>section[data-marpit-advanced-background=pseudo]{background:transparent!important}div#p>svg>foreignObject>section[data-marpit-advanced-background=pseudo],div#p>svg[data-marpit-svg]>foreignObject[data-marpit-advanced-background=pseudo]{pointer-events:none!important}div#p>svg>foreignObject>section[data-marpit-advanced-background-split]{width:100%;height:100%}</style></head><body><div class="bespoke-marp-osc"><button data-bespoke-marp-osc="prev" tabindex="-1" title="Previous slide">Previous slide</button><span data-bespoke-marp-osc="page"></span><button data-bespoke-marp-osc="next" tabindex="-1" title="Next slide">Next slide</button><button data-bespoke-marp-osc="fullscreen" tabindex="-1" title="Toggle fullscreen (f)">Toggle fullscreen</button><button data-bespoke-marp-osc="presenter" tabindex="-1" title="Open presenter view (p)">Open presenter view</button></div><div id="p"><svg data-marpit-svg="" viewBox="0 0 1280 720"><foreignObject width="1280" height="720"><section data-paginate="true" data-class="gaia lead" data-footer="Photo by &lt;a href=&quot;https://www.pexels.com/@nihalkarkala/&quot;&gt;Nihal Karkala&lt;/a&gt; from &lt;a href=&quot;https://www.pexels.com/photo/cute-furry-cat-wearing-sunglasses-7944876/&quot;&gt;Pexels&lt;/a&gt;" data-theme="gaia" data-style="@import url('https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.1.1/css/all.min.css');
@import url('https://cdn.jsdelivr.net/npm/hack-font@3/build/web/hack-subset.css');
code { font-family: Hack; }
section { font-family: Cantarell, sans-serif; letter-spacing: 0; }
section.lead.invert { text-shadow: 0 0 10px black, 0 0 20px black; }
section.smaller-type li, ul ul li { font-size: 85% }
marp-pre code, marp-pre { background-color: #042029; }
.hljs-string { color: #8ae234; }
.hljs-number, .hljs-literal { color: #729fcf; }
.hljs-params { color: #e9b96e; font-style: italic; }
.hljs-built_in { color: #fce94f; font-weight: bold; }
.hljs-title.class_ { color: #fce94f; text-decoration: none; font-weight: bold; }
.hljs-title.function_ { color: #c8a8c4; }
.hljs-keyword { color: #fcaf3e; font-weight: bold; }
.hljs-attr { color: #e9b96e; }
.hljs-variable { color: red; font-weight: bold; }
/* .hljs-comment, .hljs-regexp, .hljs-symbol */
" class="gaia lead" data-marpit-pagination="1" data-marpit-pagination-total="26" style="--paginate:true;--class:gaia lead;--footer:Photo by &lt;a href=&quot;https://www.pexels.com/@nihalkarkala/&quot;&gt;Nihal Karkala&lt;/a&gt; from &lt;a href=&quot;https://www.pexels.com/photo/cute-furry-cat-wearing-sunglasses-7944876/&quot;&gt;Pexels&lt;/a&gt;;--theme:gaia;--style:@import url('https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.1.1/css/all.min.css')
;--marpit-advanced-background-split:50%;" data-marpit-advanced-background="background" data-marpit-advanced-background-split="right"><div data-marpit-advanced-background-container="true" data-marpit-advanced-background-direction="horizontal"><figure style="background-image:url(&quot;shades.jpg&quot;);"></figure></div></section></foreignObject><foreignObject width="50%" height="720"><section id="1" data-paginate="true" data-class="gaia lead" data-footer="Photo by &lt;a href=&quot;https://www.pexels.com/@nihalkarkala/&quot;&gt;Nihal Karkala&lt;/a&gt; from &lt;a href=&quot;https://www.pexels.com/photo/cute-furry-cat-wearing-sunglasses-7944876/&quot;&gt;Pexels&lt;/a&gt;" data-theme="gaia" data-style="@import url('https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.1.1/css/all.min.css');
@import url('https://cdn.jsdelivr.net/npm/hack-font@3/build/web/hack-subset.css');
code { font-family: Hack; }
section { font-family: Cantarell, sans-serif; letter-spacing: 0; }
section.lead.invert { text-shadow: 0 0 10px black, 0 0 20px black; }
section.smaller-type li, ul ul li { font-size: 85% }
marp-pre code, marp-pre { background-color: #042029; }
.hljs-string { color: #8ae234; }
.hljs-number, .hljs-literal { color: #729fcf; }
.hljs-params { color: #e9b96e; font-style: italic; }
.hljs-built_in { color: #fce94f; font-weight: bold; }
.hljs-title.class_ { color: #fce94f; text-decoration: none; font-weight: bold; }
.hljs-title.function_ { color: #c8a8c4; }
.hljs-keyword { color: #fcaf3e; font-weight: bold; }
.hljs-attr { color: #e9b96e; }
.hljs-variable { color: red; font-weight: bold; }
/* .hljs-comment, .hljs-regexp, .hljs-symbol */
" class="gaia lead" data-marpit-pagination="1" data-marpit-pagination-total="26" style="--paginate:true;--class:gaia lead;--footer:Photo by &lt;a href=&quot;https://www.pexels.com/@nihalkarkala/&quot;&gt;Nihal Karkala&lt;/a&gt; from &lt;a href=&quot;https://www.pexels.com/photo/cute-furry-cat-wearing-sunglasses-7944876/&quot;&gt;Pexels&lt;/a&gt;;--theme:gaia;--style:@import url('https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.1.1/css/all.min.css')
;--marpit-advanced-background-split:50%;" data-marpit-advanced-background="content" data-marpit-advanced-background-split="right">
<h1>What's new with JavaScript in GNOME</h1>

<h2>The 2022 edition</h2>
<p><strong>Philip Chimento</strong><br />
<i class="fa-solid fa-message"></i> @ptomato:gnome.org<br />
<i class="fab fa-gitlab"></i> <i class="fab fa-github"></i> ptomato<br />
<i class="fab fa-twitter"></i> @therealptomato<br />
GUADEC, July 20, 2022</p>
<footer>Photo by <a href="https://www.pexels.com/@nihalkarkala/">Nihal Karkala</a> from <a href="https://www.pexels.com/photo/cute-furry-cat-wearing-sunglasses-7944876/">Pexels</a></footer>
</section>
</foreignObject><foreignObject width="1280" height="720" data-marpit-advanced-background="pseudo"><section data-paginate="true" data-class="gaia lead" data-footer="Photo by &lt;a href=&quot;https://www.pexels.com/@nihalkarkala/&quot;&gt;Nihal Karkala&lt;/a&gt; from &lt;a href=&quot;https://www.pexels.com/photo/cute-furry-cat-wearing-sunglasses-7944876/&quot;&gt;Pexels&lt;/a&gt;" data-theme="gaia" data-style="@import url('https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.1.1/css/all.min.css');
@import url('https://cdn.jsdelivr.net/npm/hack-font@3/build/web/hack-subset.css');
code { font-family: Hack; }
section { font-family: Cantarell, sans-serif; letter-spacing: 0; }
section.lead.invert { text-shadow: 0 0 10px black, 0 0 20px black; }
section.smaller-type li, ul ul li { font-size: 85% }
marp-pre code, marp-pre { background-color: #042029; }
.hljs-string { color: #8ae234; }
.hljs-number, .hljs-literal { color: #729fcf; }
.hljs-params { color: #e9b96e; font-style: italic; }
.hljs-built_in { color: #fce94f; font-weight: bold; }
.hljs-title.class_ { color: #fce94f; text-decoration: none; font-weight: bold; }
.hljs-title.function_ { color: #c8a8c4; }
.hljs-keyword { color: #fcaf3e; font-weight: bold; }
.hljs-attr { color: #e9b96e; }
.hljs-variable { color: red; font-weight: bold; }
/* .hljs-comment, .hljs-regexp, .hljs-symbol */
" class="gaia lead" data-marpit-pagination="1" data-marpit-pagination-total="26" style="" data-marpit-advanced-background="pseudo" data-marpit-advanced-background-split="right"></section></foreignObject></svg><svg data-marpit-svg="" viewBox="0 0 1280 720"><foreignObject width="1280" height="720"><section id="2" data-paginate="true" data-theme="gaia" data-style="@import url('https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.1.1/css/all.min.css');
@import url('https://cdn.jsdelivr.net/npm/hack-font@3/build/web/hack-subset.css');
code { font-family: Hack; }
section { font-family: Cantarell, sans-serif; letter-spacing: 0; }
section.lead.invert { text-shadow: 0 0 10px black, 0 0 20px black; }
section.smaller-type li, ul ul li { font-size: 85% }
marp-pre code, marp-pre { background-color: #042029; }
.hljs-string { color: #8ae234; }
.hljs-number, .hljs-literal { color: #729fcf; }
.hljs-params { color: #e9b96e; font-style: italic; }
.hljs-built_in { color: #fce94f; font-weight: bold; }
.hljs-title.class_ { color: #fce94f; text-decoration: none; font-weight: bold; }
.hljs-title.function_ { color: #c8a8c4; }
.hljs-keyword { color: #fcaf3e; font-weight: bold; }
.hljs-attr { color: #e9b96e; }
.hljs-variable { color: red; font-weight: bold; }
/* .hljs-comment, .hljs-regexp, .hljs-symbol */
" data-marpit-pagination="2" data-marpit-pagination-total="26" style="--paginate:true;--theme:gaia;--style:@import url('https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.1.1/css/all.min.css')
;">
<h1>Introduction: What I will talk about</h1>
<ul>
<li>Same thing I talk about every year! (but shorter)</li>
<li><strong>What's new and what's next</strong> in GJS?</li>
<li>We need some <strong>help!</strong> Here's what you can do</li>
</ul>
</section>
</foreignObject></svg><svg data-marpit-svg="" viewBox="0 0 1280 720"><foreignObject width="1280" height="720"><section data-paginate="true" data-footer="Photo by &lt;a href=&quot;https://www.pexels.com/@karolina-grabowska/&quot;&gt;Karolina Grabowska&lt;/a&gt; from &lt;a href=&quot;https://www.pexels.com/photo/white-and-brown-cat-lying-beside-a-laptop-and-toys-5468268/&quot;&gt;Pexels&lt;/a&gt;" data-theme="gaia" data-style="@import url('https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.1.1/css/all.min.css');
@import url('https://cdn.jsdelivr.net/npm/hack-font@3/build/web/hack-subset.css');
code { font-family: Hack; }
section { font-family: Cantarell, sans-serif; letter-spacing: 0; }
section.lead.invert { text-shadow: 0 0 10px black, 0 0 20px black; }
section.smaller-type li, ul ul li { font-size: 85% }
marp-pre code, marp-pre { background-color: #042029; }
.hljs-string { color: #8ae234; }
.hljs-number, .hljs-literal { color: #729fcf; }
.hljs-params { color: #e9b96e; font-style: italic; }
.hljs-built_in { color: #fce94f; font-weight: bold; }
.hljs-title.class_ { color: #fce94f; text-decoration: none; font-weight: bold; }
.hljs-title.function_ { color: #c8a8c4; }
.hljs-keyword { color: #fcaf3e; font-weight: bold; }
.hljs-attr { color: #e9b96e; }
.hljs-variable { color: red; font-weight: bold; }
/* .hljs-comment, .hljs-regexp, .hljs-symbol */
" data-marpit-pagination="3" data-marpit-pagination-total="26" style="--paginate:true;--footer:Photo by &lt;a href=&quot;https://www.pexels.com/@karolina-grabowska/&quot;&gt;Karolina Grabowska&lt;/a&gt; from &lt;a href=&quot;https://www.pexels.com/photo/white-and-brown-cat-lying-beside-a-laptop-and-toys-5468268/&quot;&gt;Pexels&lt;/a&gt;;--theme:gaia;--style:@import url('https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.1.1/css/all.min.css')
;--marpit-advanced-background-split:50%;" data-marpit-advanced-background="background" data-marpit-advanced-background-split="right"><div data-marpit-advanced-background-container="true" data-marpit-advanced-background-direction="horizontal"><figure style="background-image:url(&quot;mousecat.jpg&quot;);"></figure></div></section></foreignObject><foreignObject width="50%" height="720"><section id="3" data-paginate="true" data-footer="Photo by &lt;a href=&quot;https://www.pexels.com/@karolina-grabowska/&quot;&gt;Karolina Grabowska&lt;/a&gt; from &lt;a href=&quot;https://www.pexels.com/photo/white-and-brown-cat-lying-beside-a-laptop-and-toys-5468268/&quot;&gt;Pexels&lt;/a&gt;" data-theme="gaia" data-style="@import url('https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.1.1/css/all.min.css');
@import url('https://cdn.jsdelivr.net/npm/hack-font@3/build/web/hack-subset.css');
code { font-family: Hack; }
section { font-family: Cantarell, sans-serif; letter-spacing: 0; }
section.lead.invert { text-shadow: 0 0 10px black, 0 0 20px black; }
section.smaller-type li, ul ul li { font-size: 85% }
marp-pre code, marp-pre { background-color: #042029; }
.hljs-string { color: #8ae234; }
.hljs-number, .hljs-literal { color: #729fcf; }
.hljs-params { color: #e9b96e; font-style: italic; }
.hljs-built_in { color: #fce94f; font-weight: bold; }
.hljs-title.class_ { color: #fce94f; text-decoration: none; font-weight: bold; }
.hljs-title.function_ { color: #c8a8c4; }
.hljs-keyword { color: #fcaf3e; font-weight: bold; }
.hljs-attr { color: #e9b96e; }
.hljs-variable { color: red; font-weight: bold; }
/* .hljs-comment, .hljs-regexp, .hljs-symbol */
" data-marpit-pagination="3" data-marpit-pagination-total="26" style="--paginate:true;--footer:Photo by &lt;a href=&quot;https://www.pexels.com/@karolina-grabowska/&quot;&gt;Karolina Grabowska&lt;/a&gt; from &lt;a href=&quot;https://www.pexels.com/photo/white-and-brown-cat-lying-beside-a-laptop-and-toys-5468268/&quot;&gt;Pexels&lt;/a&gt;;--theme:gaia;--style:@import url('https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.1.1/css/all.min.css')
;--marpit-advanced-background-split:50%;" data-marpit-advanced-background="content" data-marpit-advanced-background-split="right">
<h1>Introduction</h1>
<ul>
<li>Presentation is full of links if you want to click through later</li>
<li>If you want to follow along: <strong>ptomato.name/talks/guadec2022</strong></li>
</ul>
<footer>Photo by <a href="https://www.pexels.com/@karolina-grabowska/">Karolina Grabowska</a> from <a href="https://www.pexels.com/photo/white-and-brown-cat-lying-beside-a-laptop-and-toys-5468268/">Pexels</a></footer>
</section>
</foreignObject><foreignObject width="1280" height="720" data-marpit-advanced-background="pseudo"><section data-paginate="true" data-footer="Photo by &lt;a href=&quot;https://www.pexels.com/@karolina-grabowska/&quot;&gt;Karolina Grabowska&lt;/a&gt; from &lt;a href=&quot;https://www.pexels.com/photo/white-and-brown-cat-lying-beside-a-laptop-and-toys-5468268/&quot;&gt;Pexels&lt;/a&gt;" data-theme="gaia" data-style="@import url('https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.1.1/css/all.min.css');
@import url('https://cdn.jsdelivr.net/npm/hack-font@3/build/web/hack-subset.css');
code { font-family: Hack; }
section { font-family: Cantarell, sans-serif; letter-spacing: 0; }
section.lead.invert { text-shadow: 0 0 10px black, 0 0 20px black; }
section.smaller-type li, ul ul li { font-size: 85% }
marp-pre code, marp-pre { background-color: #042029; }
.hljs-string { color: #8ae234; }
.hljs-number, .hljs-literal { color: #729fcf; }
.hljs-params { color: #e9b96e; font-style: italic; }
.hljs-built_in { color: #fce94f; font-weight: bold; }
.hljs-title.class_ { color: #fce94f; text-decoration: none; font-weight: bold; }
.hljs-title.function_ { color: #c8a8c4; }
.hljs-keyword { color: #fcaf3e; font-weight: bold; }
.hljs-attr { color: #e9b96e; }
.hljs-variable { color: red; font-weight: bold; }
/* .hljs-comment, .hljs-regexp, .hljs-symbol */
" data-marpit-pagination="3" data-marpit-pagination-total="26" style="" data-marpit-advanced-background="pseudo" data-marpit-advanced-background-split="right"></section></foreignObject></svg><svg data-marpit-svg="" viewBox="0 0 1280 720"><foreignObject width="1280" height="720"><section id="4" data-paginate="true" data-class="invert lead" data-theme="gaia" data-style="@import url('https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.1.1/css/all.min.css');
@import url('https://cdn.jsdelivr.net/npm/hack-font@3/build/web/hack-subset.css');
code { font-family: Hack; }
section { font-family: Cantarell, sans-serif; letter-spacing: 0; }
section.lead.invert { text-shadow: 0 0 10px black, 0 0 20px black; }
section.smaller-type li, ul ul li { font-size: 85% }
marp-pre code, marp-pre { background-color: #042029; }
.hljs-string { color: #8ae234; }
.hljs-number, .hljs-literal { color: #729fcf; }
.hljs-params { color: #e9b96e; font-style: italic; }
.hljs-built_in { color: #fce94f; font-weight: bold; }
.hljs-title.class_ { color: #fce94f; text-decoration: none; font-weight: bold; }
.hljs-title.function_ { color: #c8a8c4; }
.hljs-keyword { color: #fcaf3e; font-weight: bold; }
.hljs-attr { color: #e9b96e; }
.hljs-variable { color: red; font-weight: bold; }
/* .hljs-comment, .hljs-regexp, .hljs-symbol */
" class="invert lead" data-marpit-pagination="4" data-marpit-pagination-total="26" style="--paginate:true;--class:invert lead;--theme:gaia;--style:@import url('https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.1.1/css/all.min.css')
;">
<h1>What's new in JavaScript land for GNOME ㊷ and ㊸?</h1>
</section>
</foreignObject></svg><svg data-marpit-svg="" viewBox="0 0 1280 720"><foreignObject width="1280" height="720"><section id="5" data-paginate="true" data-theme="gaia" data-style="@import url('https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.1.1/css/all.min.css');
@import url('https://cdn.jsdelivr.net/npm/hack-font@3/build/web/hack-subset.css');
code { font-family: Hack; }
section { font-family: Cantarell, sans-serif; letter-spacing: 0; }
section.lead.invert { text-shadow: 0 0 10px black, 0 0 20px black; }
section.smaller-type li, ul ul li { font-size: 85% }
marp-pre code, marp-pre { background-color: #042029; }
.hljs-string { color: #8ae234; }
.hljs-number, .hljs-literal { color: #729fcf; }
.hljs-params { color: #e9b96e; font-style: italic; }
.hljs-built_in { color: #fce94f; font-weight: bold; }
.hljs-title.class_ { color: #fce94f; text-decoration: none; font-weight: bold; }
.hljs-title.function_ { color: #c8a8c4; }
.hljs-keyword { color: #fcaf3e; font-weight: bold; }
.hljs-attr { color: #e9b96e; }
.hljs-variable { color: red; font-weight: bold; }
/* .hljs-comment, .hljs-regexp, .hljs-symbol */
" data-marpit-pagination="5" data-marpit-pagination-total="26" style="--paginate:true;--theme:gaia;--style:@import url('https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.1.1/css/all.min.css')
;">
<h1>BigInts ㊷</h1>
<ul>
<li>You can now pass BigInt values to introspected functions that would otherwise take 64-bit integers in C</li>
<li>Return values we're <a href="https://gitlab.gnome.org/GNOME/gjs/-/issues/271">not sure</a> what to do with yet... (e.g. <code>GLib.get_monotonic_time()</code>)</li>
<li><img class="emoji" draggable="false" alt="🎩" src="https://twemoji.maxcdn.com/v/14.0.2/svg/1f3a9.svg" data-marp-twemoji=""/> Marco Trevisan</li>
</ul>
<pre is="marp-pre" data-auto-scaling="downscale-only"><code class="language-js"><span class="hljs-title class_">GLib</span>.<span class="hljs-property">Variant</span>.<span class="hljs-title function_">new_int64</span>(<span class="hljs-number">2n</span> ** <span class="hljs-number">62n</span>)
<span class="hljs-title class_">GLib</span>.<span class="hljs-property">MAXINT64_BIGINT</span>
</code></pre>
</section>
</foreignObject></svg><svg data-marpit-svg="" viewBox="0 0 1280 720"><foreignObject width="1280" height="720"><section id="6" data-paginate="true" data-theme="gaia" data-style="@import url('https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.1.1/css/all.min.css');
@import url('https://cdn.jsdelivr.net/npm/hack-font@3/build/web/hack-subset.css');
code { font-family: Hack; }
section { font-family: Cantarell, sans-serif; letter-spacing: 0; }
section.lead.invert { text-shadow: 0 0 10px black, 0 0 20px black; }
section.smaller-type li, ul ul li { font-size: 85% }
marp-pre code, marp-pre { background-color: #042029; }
.hljs-string { color: #8ae234; }
.hljs-number, .hljs-literal { color: #729fcf; }
.hljs-params { color: #e9b96e; font-style: italic; }
.hljs-built_in { color: #fce94f; font-weight: bold; }
.hljs-title.class_ { color: #fce94f; text-decoration: none; font-weight: bold; }
.hljs-title.function_ { color: #c8a8c4; }
.hljs-keyword { color: #fcaf3e; font-weight: bold; }
.hljs-attr { color: #e9b96e; }
.hljs-variable { color: red; font-weight: bold; }
/* .hljs-comment, .hljs-regexp, .hljs-symbol */
" data-marpit-pagination="6" data-marpit-pagination-total="26" style="--paginate:true;--theme:gaia;--style:@import url('https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.1.1/css/all.min.css')
;">
<h1>Promise performance improvements ㊷</h1>
<ul>
<li><code>Promise</code> resolution can no longer get starved out when the main loop is busy with events</li>
<li><img class="emoji" draggable="false" alt="🎩" src="https://twemoji.maxcdn.com/v/14.0.2/svg/1f3a9.svg" data-marp-twemoji=""/> Evan Welsh, Marco Trevisan, and Philip Withnall</li>
</ul>
</section>
</foreignObject></svg><svg data-marpit-svg="" viewBox="0 0 1280 720"><foreignObject width="1280" height="720"><section id="7" data-paginate="true" data-theme="gaia" data-style="@import url('https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.1.1/css/all.min.css');
@import url('https://cdn.jsdelivr.net/npm/hack-font@3/build/web/hack-subset.css');
code { font-family: Hack; }
section { font-family: Cantarell, sans-serif; letter-spacing: 0; }
section.lead.invert { text-shadow: 0 0 10px black, 0 0 20px black; }
section.smaller-type li, ul ul li { font-size: 85% }
marp-pre code, marp-pre { background-color: #042029; }
.hljs-string { color: #8ae234; }
.hljs-number, .hljs-literal { color: #729fcf; }
.hljs-params { color: #e9b96e; font-style: italic; }
.hljs-built_in { color: #fce94f; font-weight: bold; }
.hljs-title.class_ { color: #fce94f; text-decoration: none; font-weight: bold; }
.hljs-title.function_ { color: #c8a8c4; }
.hljs-keyword { color: #fcaf3e; font-weight: bold; }
.hljs-attr { color: #e9b96e; }
.hljs-variable { color: red; font-weight: bold; }
/* .hljs-comment, .hljs-regexp, .hljs-symbol */
" data-marpit-pagination="7" data-marpit-pagination-total="26" style="--paginate:true;--theme:gaia;--style:@import url('https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.1.1/css/all.min.css')
;">
<h1><code>setTimeout</code>/<code>setInterval</code> ㊷</h1>
<ul>
<li><code>setTimeout()</code> and <code>setInterval()</code> just like in the browser</li>
<li>Uses GLib main loop</li>
<li>Familiarity for people coming from web development</li>
<li><img class="emoji" draggable="false" alt="🎩" src="https://twemoji.maxcdn.com/v/14.0.2/svg/1f3a9.svg" data-marp-twemoji=""/> Evan Welsh</li>
</ul>
</section>
</foreignObject></svg><svg data-marpit-svg="" viewBox="0 0 1280 720"><foreignObject width="1280" height="720"><section id="8" data-paginate="true" data-theme="gaia" data-style="@import url('https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.1.1/css/all.min.css');
@import url('https://cdn.jsdelivr.net/npm/hack-font@3/build/web/hack-subset.css');
code { font-family: Hack; }
section { font-family: Cantarell, sans-serif; letter-spacing: 0; }
section.lead.invert { text-shadow: 0 0 10px black, 0 0 20px black; }
section.smaller-type li, ul ul li { font-size: 85% }
marp-pre code, marp-pre { background-color: #042029; }
.hljs-string { color: #8ae234; }
.hljs-number, .hljs-literal { color: #729fcf; }
.hljs-params { color: #e9b96e; font-style: italic; }
.hljs-built_in { color: #fce94f; font-weight: bold; }
.hljs-title.class_ { color: #fce94f; text-decoration: none; font-weight: bold; }
.hljs-title.function_ { color: #c8a8c4; }
.hljs-keyword { color: #fcaf3e; font-weight: bold; }
.hljs-attr { color: #e9b96e; }
.hljs-variable { color: red; font-weight: bold; }
/* .hljs-comment, .hljs-regexp, .hljs-symbol */
" data-marpit-pagination="8" data-marpit-pagination-total="26" style="--paginate:true;--theme:gaia;--style:@import url('https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.1.1/css/all.min.css')
;">
<h1>Pretty print ㊸</h1>
<ul>
<li>Better output of objects at the interactive console prompt</li>
<li>No more <code>[object Object]</code></li>
<li>Improved output also extends to the <code>log()</code> and <code>logError()</code> functions</li>
<li>Soon in the debugger too</li>
<li><img class="emoji" draggable="false" alt="🎩" src="https://twemoji.maxcdn.com/v/14.0.2/svg/1f3a9.svg" data-marp-twemoji=""/> Nasah Kuma</li>
</ul>
<pre is="marp-pre" data-auto-scaling="downscale-only"><code>gjs&gt; ({a:1, b:2})
{ a: 1, b: 2 }

(used to print &quot;[object Object]&quot;)
</code></pre>
</section>
</foreignObject></svg><svg data-marpit-svg="" viewBox="0 0 1280 720"><foreignObject width="1280" height="720"><section id="9" data-paginate="true" data-theme="gaia" data-style="@import url('https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.1.1/css/all.min.css');
@import url('https://cdn.jsdelivr.net/npm/hack-font@3/build/web/hack-subset.css');
code { font-family: Hack; }
section { font-family: Cantarell, sans-serif; letter-spacing: 0; }
section.lead.invert { text-shadow: 0 0 10px black, 0 0 20px black; }
section.smaller-type li, ul ul li { font-size: 85% }
marp-pre code, marp-pre { background-color: #042029; }
.hljs-string { color: #8ae234; }
.hljs-number, .hljs-literal { color: #729fcf; }
.hljs-params { color: #e9b96e; font-style: italic; }
.hljs-built_in { color: #fce94f; font-weight: bold; }
.hljs-title.class_ { color: #fce94f; text-decoration: none; font-weight: bold; }
.hljs-title.function_ { color: #c8a8c4; }
.hljs-keyword { color: #fcaf3e; font-weight: bold; }
.hljs-attr { color: #e9b96e; }
.hljs-variable { color: red; font-weight: bold; }
/* .hljs-comment, .hljs-regexp, .hljs-symbol */
" data-marpit-pagination="9" data-marpit-pagination-total="26" style="--paginate:true;--theme:gaia;--style:@import url('https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.1.1/css/all.min.css')
;">
<h1>DBus async methods ㊸</h1>
<ul>
<li>Generated DBus proxy classes have sync and async methods for each DBus method</li>
<li>e.g. for method <code>org.freedesktop.login1.Manager.Inhibit</code> you'd get <code>InhibitSync()</code> and <code>InhibitRemote()</code> methods</li>
<li>The &quot;Remote&quot; method takes a callback</li>
<li>Now we have an &quot;Async&quot; method (e.g. <code>InhibitAsync()</code>) that returns a <code>Promise</code></li>
<li><img class="emoji" draggable="false" alt="🎩" src="https://twemoji.maxcdn.com/v/14.0.2/svg/1f3a9.svg" data-marp-twemoji=""/> Sergio Costas</li>
</ul>
</section>
</foreignObject></svg><svg data-marpit-svg="" viewBox="0 0 1280 720"><foreignObject width="1280" height="720"><section id="10" data-paginate="true" data-theme="gaia" data-style="@import url('https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.1.1/css/all.min.css');
@import url('https://cdn.jsdelivr.net/npm/hack-font@3/build/web/hack-subset.css');
code { font-family: Hack; }
section { font-family: Cantarell, sans-serif; letter-spacing: 0; }
section.lead.invert { text-shadow: 0 0 10px black, 0 0 20px black; }
section.smaller-type li, ul ul li { font-size: 85% }
marp-pre code, marp-pre { background-color: #042029; }
.hljs-string { color: #8ae234; }
.hljs-number, .hljs-literal { color: #729fcf; }
.hljs-params { color: #e9b96e; font-style: italic; }
.hljs-built_in { color: #fce94f; font-weight: bold; }
.hljs-title.class_ { color: #fce94f; text-decoration: none; font-weight: bold; }
.hljs-title.function_ { color: #c8a8c4; }
.hljs-keyword { color: #fcaf3e; font-weight: bold; }
.hljs-attr { color: #e9b96e; }
.hljs-variable { color: red; font-weight: bold; }
/* .hljs-comment, .hljs-regexp, .hljs-symbol */
" data-marpit-pagination="10" data-marpit-pagination-total="26" style="--paginate:true;--theme:gaia;--style:@import url('https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.1.1/css/all.min.css')
;">
<h1>JS engine upgrades</h1>
<p>GJS's underlying JavaScript engine is the one from Firefox, but embedded.</p>
<ul>
<li>Tracks Firefox's long-term support version (currently Firefox ESR 102)</li>
<li>Brings in newer editions of the JS language, and security updates</li>
<li>GNOME ㊷: upgraded from 78 to 91</li>
<li>GNOME ㊸: will upgrade to 102</li>
</ul>
</section>
</foreignObject></svg><svg data-marpit-svg="" viewBox="0 0 1280 720"><foreignObject width="1280" height="720"><section id="11" data-paginate="true" data-theme="gaia" data-style="@import url('https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.1.1/css/all.min.css');
@import url('https://cdn.jsdelivr.net/npm/hack-font@3/build/web/hack-subset.css');
code { font-family: Hack; }
section { font-family: Cantarell, sans-serif; letter-spacing: 0; }
section.lead.invert { text-shadow: 0 0 10px black, 0 0 20px black; }
section.smaller-type li, ul ul li { font-size: 85% }
marp-pre code, marp-pre { background-color: #042029; }
.hljs-string { color: #8ae234; }
.hljs-number, .hljs-literal { color: #729fcf; }
.hljs-params { color: #e9b96e; font-style: italic; }
.hljs-built_in { color: #fce94f; font-weight: bold; }
.hljs-title.class_ { color: #fce94f; text-decoration: none; font-weight: bold; }
.hljs-title.function_ { color: #c8a8c4; }
.hljs-keyword { color: #fcaf3e; font-weight: bold; }
.hljs-attr { color: #e9b96e; }
.hljs-variable { color: red; font-weight: bold; }
/* .hljs-comment, .hljs-regexp, .hljs-symbol */
" data-marpit-pagination="11" data-marpit-pagination-total="26" style="--paginate:true;--theme:gaia;--style:@import url('https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.1.1/css/all.min.css')
;">
<h1>JS engine upgrades</h1>
<ul>
<li><code>at()</code>: Python-style indexing for <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/at">arrays</a>, <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String/at">strings</a>, and <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/TypedArray/at">typed arrays</a> ㊷</li>
<li><code>??=</code>, <code>&amp;&amp;=</code>, <code>||=</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Operators/Logical_OR_assignment">operators</a> ㊷</li>
<li><code>export * as ... from ...</code> ㊷</li>
<li><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/RegExp/hasIndices">Regular expression <code>d</code> flag</a> ㊷</li>
<li><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Classes/Class_static_initialization_blocks"><code>static { ... }</code> blocks</a> ㊷</li>
<li>(continued...)</li>
</ul>
</section>
</foreignObject></svg><svg data-marpit-svg="" viewBox="0 0 1280 720"><foreignObject width="1280" height="720"><section id="12" data-paginate="true" data-theme="gaia" data-style="@import url('https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.1.1/css/all.min.css');
@import url('https://cdn.jsdelivr.net/npm/hack-font@3/build/web/hack-subset.css');
code { font-family: Hack; }
section { font-family: Cantarell, sans-serif; letter-spacing: 0; }
section.lead.invert { text-shadow: 0 0 10px black, 0 0 20px black; }
section.smaller-type li, ul ul li { font-size: 85% }
marp-pre code, marp-pre { background-color: #042029; }
.hljs-string { color: #8ae234; }
.hljs-number, .hljs-literal { color: #729fcf; }
.hljs-params { color: #e9b96e; font-style: italic; }
.hljs-built_in { color: #fce94f; font-weight: bold; }
.hljs-title.class_ { color: #fce94f; text-decoration: none; font-weight: bold; }
.hljs-title.function_ { color: #c8a8c4; }
.hljs-keyword { color: #fcaf3e; font-weight: bold; }
.hljs-attr { color: #e9b96e; }
.hljs-variable { color: red; font-weight: bold; }
/* .hljs-comment, .hljs-regexp, .hljs-symbol */
" data-marpit-pagination="12" data-marpit-pagination-total="26" style="--paginate:true;--theme:gaia;--style:@import url('https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.1.1/css/all.min.css')
;">
<h1>JS engine upgrades</h1>
<ul>
<li><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Error/cause"><code>Error.cause</code></a> ㊷</li>
<li><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/WeakRef"><code>WeakRef</code></a> ㊷</li>
<li><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise/any"><code>Promise.any()</code>: First successful sub-promise</a> ㊷</li>
<li>Top-level <code>await</code> ㊷</li>
<li><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object/hasOwn"><code>Object.hasOwn()</code> shorthand</a> ㊸</li>
<li>Internationalization ㊷ ㊸</li>
</ul>
</section>
</foreignObject></svg><svg data-marpit-svg="" viewBox="0 0 1280 720"><foreignObject width="1280" height="720"><section id="13" data-paginate="true" data-theme="gaia" data-style="@import url('https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.1.1/css/all.min.css');
@import url('https://cdn.jsdelivr.net/npm/hack-font@3/build/web/hack-subset.css');
code { font-family: Hack; }
section { font-family: Cantarell, sans-serif; letter-spacing: 0; }
section.lead.invert { text-shadow: 0 0 10px black, 0 0 20px black; }
section.smaller-type li, ul ul li { font-size: 85% }
marp-pre code, marp-pre { background-color: #042029; }
.hljs-string { color: #8ae234; }
.hljs-number, .hljs-literal { color: #729fcf; }
.hljs-params { color: #e9b96e; font-style: italic; }
.hljs-built_in { color: #fce94f; font-weight: bold; }
.hljs-title.class_ { color: #fce94f; text-decoration: none; font-weight: bold; }
.hljs-title.function_ { color: #c8a8c4; }
.hljs-keyword { color: #fcaf3e; font-weight: bold; }
.hljs-attr { color: #e9b96e; }
.hljs-variable { color: red; font-weight: bold; }
/* .hljs-comment, .hljs-regexp, .hljs-symbol */
" data-marpit-pagination="13" data-marpit-pagination-total="26" style="--paginate:true;--theme:gaia;--style:@import url('https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.1.1/css/all.min.css')
;">
<h1>JS engine upgrades</h1>
<h3><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Classes/Private_class_fields"><code>#private</code> class members</a> ㊷</h3>
<pre is="marp-pre" data-auto-scaling="downscale-only"><code class="language-js"><span class="hljs-keyword">class</span> <span class="hljs-title class_">MyClass</span> {
    #value;
    #counter = <span class="hljs-number">0</span>;

    <span class="hljs-title function_">constructor</span>(<span class="hljs-params">value</span>) {
        <span class="hljs-variable language_">this</span>.#value = value;
    }

    #<span class="hljs-title function_">somePrivateMethod</span>(<span class="hljs-params"></span>) {
        <span class="hljs-title function_">doSomethingWith</span>(<span class="hljs-variable language_">this</span>.#value);
        <span class="hljs-variable language_">this</span>.#counter++;
    }
}
</code></pre>
</section>
</foreignObject></svg><svg data-marpit-svg="" viewBox="0 0 1280 720"><foreignObject width="1280" height="720"><section id="14" data-paginate="true" data-theme="gaia" data-style="@import url('https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.1.1/css/all.min.css');
@import url('https://cdn.jsdelivr.net/npm/hack-font@3/build/web/hack-subset.css');
code { font-family: Hack; }
section { font-family: Cantarell, sans-serif; letter-spacing: 0; }
section.lead.invert { text-shadow: 0 0 10px black, 0 0 20px black; }
section.smaller-type li, ul ul li { font-size: 85% }
marp-pre code, marp-pre { background-color: #042029; }
.hljs-string { color: #8ae234; }
.hljs-number, .hljs-literal { color: #729fcf; }
.hljs-params { color: #e9b96e; font-style: italic; }
.hljs-built_in { color: #fce94f; font-weight: bold; }
.hljs-title.class_ { color: #fce94f; text-decoration: none; font-weight: bold; }
.hljs-title.function_ { color: #c8a8c4; }
.hljs-keyword { color: #fcaf3e; font-weight: bold; }
.hljs-attr { color: #e9b96e; }
.hljs-variable { color: red; font-weight: bold; }
/* .hljs-comment, .hljs-regexp, .hljs-symbol */
" data-marpit-pagination="14" data-marpit-pagination-total="26" style="--paginate:true;--theme:gaia;--style:@import url('https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.1.1/css/all.min.css')
;">
<h1>Goodbye <code>_init()</code> ㊷</h1>
<ul>
<li>It's no longer necessary to use <code>_init()</code> to construct a GObject</li>
<li>Just use <code>constructor()</code> like normal objects!</li>
<li><img class="emoji" draggable="false" alt="🎩" src="https://twemoji.maxcdn.com/v/14.0.2/svg/1f3a9.svg" data-marp-twemoji=""/> Evan Welsh</li>
</ul>
<pre is="marp-pre" data-auto-scaling="downscale-only"><code class="language-js"><span class="hljs-keyword">class</span> <span class="hljs-title class_">MyObject</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_ inherited__">GObject.Object</span> {
    #value;

    <span class="hljs-title function_">constructor</span>(<span class="hljs-params">props = {}</span>) {
        <span class="hljs-variable language_">super</span>(props);
        <span class="hljs-variable language_">this</span>.#value = <span class="hljs-variable language_">this</span>.#<span class="hljs-title function_">computeValue</span>();
    }

    <span class="hljs-comment">// ...</span>
</code></pre>
</section>
</foreignObject></svg><svg data-marpit-svg="" viewBox="0 0 1280 720"><foreignObject width="1280" height="720"><section id="15" data-paginate="true" data-class="invert lead" data-theme="gaia" data-style="@import url('https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.1.1/css/all.min.css');
@import url('https://cdn.jsdelivr.net/npm/hack-font@3/build/web/hack-subset.css');
code { font-family: Hack; }
section { font-family: Cantarell, sans-serif; letter-spacing: 0; }
section.lead.invert { text-shadow: 0 0 10px black, 0 0 20px black; }
section.smaller-type li, ul ul li { font-size: 85% }
marp-pre code, marp-pre { background-color: #042029; }
.hljs-string { color: #8ae234; }
.hljs-number, .hljs-literal { color: #729fcf; }
.hljs-params { color: #e9b96e; font-style: italic; }
.hljs-built_in { color: #fce94f; font-weight: bold; }
.hljs-title.class_ { color: #fce94f; text-decoration: none; font-weight: bold; }
.hljs-title.function_ { color: #c8a8c4; }
.hljs-keyword { color: #fcaf3e; font-weight: bold; }
.hljs-attr { color: #e9b96e; }
.hljs-variable { color: red; font-weight: bold; }
/* .hljs-comment, .hljs-regexp, .hljs-symbol */
" class="invert lead" data-marpit-pagination="15" data-marpit-pagination-total="26" style="--paginate:true;--class:invert lead;--theme:gaia;--style:@import url('https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.1.1/css/all.min.css')
;">
<h1>How can <em>you</em> help?</h1>
</section>
</foreignObject></svg><svg data-marpit-svg="" viewBox="0 0 1280 720"><foreignObject width="1280" height="720"><section id="16" data-paginate="true" data-theme="gaia" data-style="@import url('https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.1.1/css/all.min.css');
@import url('https://cdn.jsdelivr.net/npm/hack-font@3/build/web/hack-subset.css');
code { font-family: Hack; }
section { font-family: Cantarell, sans-serif; letter-spacing: 0; }
section.lead.invert { text-shadow: 0 0 10px black, 0 0 20px black; }
section.smaller-type li, ul ul li { font-size: 85% }
marp-pre code, marp-pre { background-color: #042029; }
.hljs-string { color: #8ae234; }
.hljs-number, .hljs-literal { color: #729fcf; }
.hljs-params { color: #e9b96e; font-style: italic; }
.hljs-built_in { color: #fce94f; font-weight: bold; }
.hljs-title.class_ { color: #fce94f; text-decoration: none; font-weight: bold; }
.hljs-title.function_ { color: #c8a8c4; }
.hljs-keyword { color: #fcaf3e; font-weight: bold; }
.hljs-attr { color: #e9b96e; }
.hljs-variable { color: red; font-weight: bold; }
/* .hljs-comment, .hljs-regexp, .hljs-symbol */
" data-marpit-pagination="16" data-marpit-pagination-total="26" style="--paginate:true;--theme:gaia;--style:@import url('https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.1.1/css/all.min.css')
;">
<h1>Help define best practices</h1>
<ul>
<li>We have a lot of best-practices material</li>
<li>Talk to us in <a href="https://matrix.to/#javascript:gnome.org">#javascript:gnome.org</a> about things confusing you!</li>
<li>That's where you can find reviewers if you want to update these things</li>
</ul>
<h3>This is a great place to contribute even if you're just beginning with GJS!</h3>
</section>
</foreignObject></svg><svg data-marpit-svg="" viewBox="0 0 1280 720"><foreignObject width="1280" height="720"><section id="17" data-paginate="true" data-theme="gaia" data-style="@import url('https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.1.1/css/all.min.css');
@import url('https://cdn.jsdelivr.net/npm/hack-font@3/build/web/hack-subset.css');
code { font-family: Hack; }
section { font-family: Cantarell, sans-serif; letter-spacing: 0; }
section.lead.invert { text-shadow: 0 0 10px black, 0 0 20px black; }
section.smaller-type li, ul ul li { font-size: 85% }
marp-pre code, marp-pre { background-color: #042029; }
.hljs-string { color: #8ae234; }
.hljs-number, .hljs-literal { color: #729fcf; }
.hljs-params { color: #e9b96e; font-style: italic; }
.hljs-built_in { color: #fce94f; font-weight: bold; }
.hljs-title.class_ { color: #fce94f; text-decoration: none; font-weight: bold; }
.hljs-title.function_ { color: #c8a8c4; }
.hljs-keyword { color: #fcaf3e; font-weight: bold; }
.hljs-attr { color: #e9b96e; }
.hljs-variable { color: red; font-weight: bold; }
/* .hljs-comment, .hljs-regexp, .hljs-symbol */
" data-marpit-pagination="17" data-marpit-pagination-total="26" style="--paginate:true;--theme:gaia;--style:@import url('https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.1.1/css/all.min.css')
;">
<h1>Current JS best-practices material</h1>
<ul>
<li><strong><a href="https://github.com/gcampax/gtk-js-app">gtk-js-app</a></strong>: example app, GTK 3, old-style imports</li>
<li><strong><a href="https://gitlab.gnome.org/ptomato/bloatpad">Bloatpad</a></strong> (and accompanying <a href="http://ptomato.name/talks/las2021/">talk</a>): example app, GTK 4, ES modules</li>
<li><strong><a href="https://gjs.guide/guides/">gjs.guide</a></strong>: docs and tutorials collection for apps and extensions</li>
<li><strong><a href="https://rmnvgr.gitlab.io/gtk4-gjs-book/">GTK4+GJS Book</a></strong>: example app + tutorial, ES modules</li>
<li><strong><a href="https://gitlab.gnome.org/Archive/gnome-devel-docs/-/tree/master/platform-demos/C">GNOME Platform Demos</a></strong>: several example apps
<ul>
<li>Old, removed from web, but still some good stuff</li>
</ul>
</li>
</ul>
</section>
</foreignObject></svg><svg data-marpit-svg="" viewBox="0 0 1280 720"><foreignObject width="1280" height="720"><section id="18" data-paginate="true" data-theme="gaia" data-style="@import url('https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.1.1/css/all.min.css');
@import url('https://cdn.jsdelivr.net/npm/hack-font@3/build/web/hack-subset.css');
code { font-family: Hack; }
section { font-family: Cantarell, sans-serif; letter-spacing: 0; }
section.lead.invert { text-shadow: 0 0 10px black, 0 0 20px black; }
section.smaller-type li, ul ul li { font-size: 85% }
marp-pre code, marp-pre { background-color: #042029; }
.hljs-string { color: #8ae234; }
.hljs-number, .hljs-literal { color: #729fcf; }
.hljs-params { color: #e9b96e; font-style: italic; }
.hljs-built_in { color: #fce94f; font-weight: bold; }
.hljs-title.class_ { color: #fce94f; text-decoration: none; font-weight: bold; }
.hljs-title.function_ { color: #c8a8c4; }
.hljs-keyword { color: #fcaf3e; font-weight: bold; }
.hljs-attr { color: #e9b96e; }
.hljs-variable { color: red; font-weight: bold; }
/* .hljs-comment, .hljs-regexp, .hljs-symbol */
" data-marpit-pagination="18" data-marpit-pagination-total="26" style="--paginate:true;--theme:gaia;--style:@import url('https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.1.1/css/all.min.css')
;">
<h1>Best-practices material not in JS</h1>
<ul>
<li><a href="https://developer.gnome.org/documentation/tutorials/beginners/getting_started.html">GNOME Platform Getting Started</a>
<ul>
<li>Available in C and Python</li>
</ul>
</li>
<li><a href="https://developer.gnome.org/documentation/tutorials.html">GNOME Platform Tutorials</a>
<ul>
<li>Some already available in JS, others not yet</li>
</ul>
</li>
<li><a href="https://wiki.gnome.org/HowDoI">HowDoI</a>
<ul>
<li>Old, but some good stuff in there</li>
<li>Useful bits should be ported to GNOME Platform Tutorials</li>
</ul>
</li>
</ul>
</section>
</foreignObject></svg><svg data-marpit-svg="" viewBox="0 0 1280 720"><foreignObject width="1280" height="720"><section id="19" data-paginate="true" data-theme="gaia" data-style="@import url('https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.1.1/css/all.min.css');
@import url('https://cdn.jsdelivr.net/npm/hack-font@3/build/web/hack-subset.css');
code { font-family: Hack; }
section { font-family: Cantarell, sans-serif; letter-spacing: 0; }
section.lead.invert { text-shadow: 0 0 10px black, 0 0 20px black; }
section.smaller-type li, ul ul li { font-size: 85% }
marp-pre code, marp-pre { background-color: #042029; }
.hljs-string { color: #8ae234; }
.hljs-number, .hljs-literal { color: #729fcf; }
.hljs-params { color: #e9b96e; font-style: italic; }
.hljs-built_in { color: #fce94f; font-weight: bold; }
.hljs-title.class_ { color: #fce94f; text-decoration: none; font-weight: bold; }
.hljs-title.function_ { color: #c8a8c4; }
.hljs-keyword { color: #fcaf3e; font-weight: bold; }
.hljs-attr { color: #e9b96e; }
.hljs-variable { color: red; font-weight: bold; }
/* .hljs-comment, .hljs-regexp, .hljs-symbol */
" data-marpit-pagination="19" data-marpit-pagination-total="26" style="--paginate:true;--theme:gaia;--style:@import url('https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.1.1/css/all.min.css')
;">
<h1>Native async operations</h1>
<ul>
<li>Previously, focus of Outreachy 2018 (Avi Zajac) and 2021 (Veena Nagar)</li>
<li>Lots of work done already</li>
</ul>
</section>
</foreignObject></svg><svg data-marpit-svg="" viewBox="0 0 1280 720"><foreignObject width="1280" height="720"><section id="20" data-paginate="true" data-theme="gaia" data-style="@import url('https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.1.1/css/all.min.css');
@import url('https://cdn.jsdelivr.net/npm/hack-font@3/build/web/hack-subset.css');
code { font-family: Hack; }
section { font-family: Cantarell, sans-serif; letter-spacing: 0; }
section.lead.invert { text-shadow: 0 0 10px black, 0 0 20px black; }
section.smaller-type li, ul ul li { font-size: 85% }
marp-pre code, marp-pre { background-color: #042029; }
.hljs-string { color: #8ae234; }
.hljs-number, .hljs-literal { color: #729fcf; }
.hljs-params { color: #e9b96e; font-style: italic; }
.hljs-built_in { color: #fce94f; font-weight: bold; }
.hljs-title.class_ { color: #fce94f; text-decoration: none; font-weight: bold; }
.hljs-title.function_ { color: #c8a8c4; }
.hljs-keyword { color: #fcaf3e; font-weight: bold; }
.hljs-attr { color: #e9b96e; }
.hljs-variable { color: red; font-weight: bold; }
/* .hljs-comment, .hljs-regexp, .hljs-symbol */
" data-marpit-pagination="20" data-marpit-pagination-total="26" style="--paginate:true;--theme:gaia;--style:@import url('https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.1.1/css/all.min.css')
;">
<h1>Native async operations (2)</h1>
<pre is="marp-pre" data-auto-scaling="downscale-only"><code class="language-js"><span class="hljs-comment">// Old way: (PYRAMID OF DOOM!)</span>
file.<span class="hljs-title function_">load_contents_async</span>(<span class="hljs-comment">/* cancel = */</span> <span class="hljs-literal">null</span>, <span class="hljs-function">(<span class="hljs-params">obj, result</span>) =&gt;</span> {
    <span class="hljs-keyword">try</span> {
        <span class="hljs-keyword">const</span> [, contents] = file.<span class="hljs-title function_">load_contents_finish</span>(result);
    } <span class="hljs-keyword">catch</span> (e) {
        <span class="hljs-title function_">logError</span>(e);
        <span class="hljs-keyword">return</span>;
    }
    file2.<span class="hljs-title function_">replace_contents_bytes_async</span>(contents, <span class="hljs-comment">/* etag = */</span> <span class="hljs-literal">null</span>, <span class="hljs-comment">/* makeBackup = */</span> <span class="hljs-literal">false</span>,
        <span class="hljs-comment">/* cancel = */</span> <span class="hljs-literal">null</span>, <span class="hljs-function">(<span class="hljs-params">obj, result</span>) =&gt;</span> {
            <span class="hljs-keyword">try</span> {
                file.<span class="hljs-title function_">replace_contents_finish</span>(result);
            } <span class="hljs-keyword">catch</span> (e) {
                <span class="hljs-title function_">logError</span>(e);
            }
        });
});
</code></pre>
</section>
</foreignObject></svg><svg data-marpit-svg="" viewBox="0 0 1280 720"><foreignObject width="1280" height="720"><section id="21" data-paginate="true" data-theme="gaia" data-style="@import url('https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.1.1/css/all.min.css');
@import url('https://cdn.jsdelivr.net/npm/hack-font@3/build/web/hack-subset.css');
code { font-family: Hack; }
section { font-family: Cantarell, sans-serif; letter-spacing: 0; }
section.lead.invert { text-shadow: 0 0 10px black, 0 0 20px black; }
section.smaller-type li, ul ul li { font-size: 85% }
marp-pre code, marp-pre { background-color: #042029; }
.hljs-string { color: #8ae234; }
.hljs-number, .hljs-literal { color: #729fcf; }
.hljs-params { color: #e9b96e; font-style: italic; }
.hljs-built_in { color: #fce94f; font-weight: bold; }
.hljs-title.class_ { color: #fce94f; text-decoration: none; font-weight: bold; }
.hljs-title.function_ { color: #c8a8c4; }
.hljs-keyword { color: #fcaf3e; font-weight: bold; }
.hljs-attr { color: #e9b96e; }
.hljs-variable { color: red; font-weight: bold; }
/* .hljs-comment, .hljs-regexp, .hljs-symbol */
" data-marpit-pagination="21" data-marpit-pagination-total="26" style="--paginate:true;--theme:gaia;--style:@import url('https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.1.1/css/all.min.css')
;">
<h1>Native async operations (3)</h1>
<pre is="marp-pre" data-auto-scaling="downscale-only"><code class="language-js"><span class="hljs-comment">// Current way:</span>
<span class="hljs-title class_">Gio</span>.<span class="hljs-title function_">_promisify</span>(<span class="hljs-title class_">Gio</span>.<span class="hljs-property">File</span>.<span class="hljs-property"><span class="hljs-keyword">prototype</span></span>, <span class="hljs-string">&#x27;load_contents_async&#x27;</span>);
<span class="hljs-title class_">Gio</span>.<span class="hljs-title function_">_promisify</span>(<span class="hljs-title class_">Gio</span>.<span class="hljs-property">File</span>.<span class="hljs-property"><span class="hljs-keyword">prototype</span></span>, <span class="hljs-string">&#x27;replace_contents_bytes_async&#x27;</span>,
    <span class="hljs-string">&#x27;replace_contents_finish&#x27;</span>);
<span class="hljs-keyword">const</span> [contents] = <span class="hljs-keyword">await</span> file.<span class="hljs-title function_">load_contents_async</span>(<span class="hljs-comment">/* cancel = */</span> <span class="hljs-literal">null</span>);
<span class="hljs-keyword">await</span> file2.<span class="hljs-title function_">replace_contents_bytes_async</span>(contents, <span class="hljs-comment">/* etag = */</span> <span class="hljs-literal">null</span>,
    <span class="hljs-comment">/* makeBackup = */</span> <span class="hljs-literal">false</span>, <span class="hljs-comment">/* cancel = */</span> <span class="hljs-literal">null</span>);
</code></pre>
</section>
</foreignObject></svg><svg data-marpit-svg="" viewBox="0 0 1280 720"><foreignObject width="1280" height="720"><section id="22" data-paginate="true" data-theme="gaia" data-style="@import url('https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.1.1/css/all.min.css');
@import url('https://cdn.jsdelivr.net/npm/hack-font@3/build/web/hack-subset.css');
code { font-family: Hack; }
section { font-family: Cantarell, sans-serif; letter-spacing: 0; }
section.lead.invert { text-shadow: 0 0 10px black, 0 0 20px black; }
section.smaller-type li, ul ul li { font-size: 85% }
marp-pre code, marp-pre { background-color: #042029; }
.hljs-string { color: #8ae234; }
.hljs-number, .hljs-literal { color: #729fcf; }
.hljs-params { color: #e9b96e; font-style: italic; }
.hljs-built_in { color: #fce94f; font-weight: bold; }
.hljs-title.class_ { color: #fce94f; text-decoration: none; font-weight: bold; }
.hljs-title.function_ { color: #c8a8c4; }
.hljs-keyword { color: #fcaf3e; font-weight: bold; }
.hljs-attr { color: #e9b96e; }
.hljs-variable { color: red; font-weight: bold; }
/* .hljs-comment, .hljs-regexp, .hljs-symbol */
" data-marpit-pagination="22" data-marpit-pagination-total="26" style="--paginate:true;--theme:gaia;--style:@import url('https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.1.1/css/all.min.css')
;">
<h1>Native async operations (4)</h1>
<pre is="marp-pre" data-auto-scaling="downscale-only"><code class="language-js"><span class="hljs-comment">// End goal: (per-method opt-in no longer needed)</span>
<span class="hljs-comment">// Gio._promisify(Gio.File.prototype, &#x27;load_contents_async&#x27;);</span>
<span class="hljs-comment">// Gio._promisify(Gio.File.prototype, &#x27;replace_contents_bytes_async&#x27;,</span>
<span class="hljs-comment">//     &#x27;replace_contents_finish&#x27;);</span>
<span class="hljs-keyword">const</span> [contents] = <span class="hljs-keyword">await</span> file.<span class="hljs-title function_">load_contents_async</span>(<span class="hljs-comment">/* cancel = */</span> <span class="hljs-literal">null</span>);
<span class="hljs-keyword">await</span> file2.<span class="hljs-title function_">replace_contents_bytes_async</span>(contents, <span class="hljs-comment">/* etag = */</span> <span class="hljs-literal">null</span>,
    <span class="hljs-comment">/* makeBackup = */</span> <span class="hljs-literal">false</span>, <span class="hljs-comment">/* cancel = */</span> <span class="hljs-literal">null</span>);
</code></pre>
</section>
</foreignObject></svg><svg data-marpit-svg="" viewBox="0 0 1280 720"><foreignObject width="1280" height="720"><section id="23" data-paginate="true" data-theme="gaia" data-style="@import url('https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.1.1/css/all.min.css');
@import url('https://cdn.jsdelivr.net/npm/hack-font@3/build/web/hack-subset.css');
code { font-family: Hack; }
section { font-family: Cantarell, sans-serif; letter-spacing: 0; }
section.lead.invert { text-shadow: 0 0 10px black, 0 0 20px black; }
section.smaller-type li, ul ul li { font-size: 85% }
marp-pre code, marp-pre { background-color: #042029; }
.hljs-string { color: #8ae234; }
.hljs-number, .hljs-literal { color: #729fcf; }
.hljs-params { color: #e9b96e; font-style: italic; }
.hljs-built_in { color: #fce94f; font-weight: bold; }
.hljs-title.class_ { color: #fce94f; text-decoration: none; font-weight: bold; }
.hljs-title.function_ { color: #c8a8c4; }
.hljs-keyword { color: #fcaf3e; font-weight: bold; }
.hljs-attr { color: #e9b96e; }
.hljs-variable { color: red; font-weight: bold; }
/* .hljs-comment, .hljs-regexp, .hljs-symbol */
" data-marpit-pagination="23" data-marpit-pagination-total="26" style="--paginate:true;--theme:gaia;--style:@import url('https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.1.1/css/all.min.css')
;">
<h1>Native async operations (5):</h1>
<p>GIR annotations:</p>
<pre is="marp-pre" data-auto-scaling="downscale-only"><code class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">method</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;load_contents_async&quot;</span> <span class="hljs-attr">c:identifier</span>=<span class="hljs-string">&quot;g_file_load_contents_async&quot;</span>
        <span class="hljs-attr">glib:finish-func</span>=<span class="hljs-string">&quot;g_file_load_contents_finish&quot;</span>
        <span class="hljs-attr">glib:sync-func</span>=<span class="hljs-string">&quot;g_file_load_contents&quot;</span>&gt;</span>
</code></pre>
<ul>
<li>We have a <a href="https://gitlab.gnome.org/GNOME/gobject-introspection/-/merge_requests/278">merge request</a> implementing these</li>
<li>But it needs matching gobject-introspection C API</li>
<li>Then needs an implementation in GJS</li>
<li>Good task if you know some C</li>
</ul>
</section>
</foreignObject></svg><svg data-marpit-svg="" viewBox="0 0 1280 720"><foreignObject width="1280" height="720"><section id="24" data-paginate="true" data-theme="gaia" data-style="@import url('https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.1.1/css/all.min.css');
@import url('https://cdn.jsdelivr.net/npm/hack-font@3/build/web/hack-subset.css');
code { font-family: Hack; }
section { font-family: Cantarell, sans-serif; letter-spacing: 0; }
section.lead.invert { text-shadow: 0 0 10px black, 0 0 20px black; }
section.smaller-type li, ul ul li { font-size: 85% }
marp-pre code, marp-pre { background-color: #042029; }
.hljs-string { color: #8ae234; }
.hljs-number, .hljs-literal { color: #729fcf; }
.hljs-params { color: #e9b96e; font-style: italic; }
.hljs-built_in { color: #fce94f; font-weight: bold; }
.hljs-title.class_ { color: #fce94f; text-decoration: none; font-weight: bold; }
.hljs-title.function_ { color: #c8a8c4; }
.hljs-keyword { color: #fcaf3e; font-weight: bold; }
.hljs-attr { color: #e9b96e; }
.hljs-variable { color: red; font-weight: bold; }
/* .hljs-comment, .hljs-regexp, .hljs-symbol */
" data-marpit-pagination="24" data-marpit-pagination-total="26" style="--paginate:true;--theme:gaia;--style:@import url('https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.1.1/css/all.min.css')
;">
<h1>About that <a href="https://gitlab.gnome.org/GNOME/gjs/-/issues/217">Big Hammer</a>... <img class="emoji" draggable="false" alt="🔨" src="https://twemoji.maxcdn.com/v/14.0.2/svg/1f528.svg" data-marp-twemoji=""/></h1>
<p><strong>Please</strong> help get this over the finish line.</p>
<p>We need help with:</p>
<ul>
<li>Help to <strong>measure the impact</strong> on GNOME Shell so we can tune the garbage collector</li>
<li>A <strong>communication plan</strong></li>
</ul>
<p>(there are also some coding tasks, but they'll get done: <a href="https://gitlab.gnome.org/GNOME/glib/-/issues/623">glib#623</a>, <a href="https://gitlab.gnome.org/GNOME/gjs/-/issues/52">gjs#52</a>)</p>
</section>
</foreignObject></svg><svg data-marpit-svg="" viewBox="0 0 1280 720"><foreignObject width="1280" height="720"><section id="25" data-paginate="true" data-class="gaia" data-theme="gaia" data-style="@import url('https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.1.1/css/all.min.css');
@import url('https://cdn.jsdelivr.net/npm/hack-font@3/build/web/hack-subset.css');
code { font-family: Hack; }
section { font-family: Cantarell, sans-serif; letter-spacing: 0; }
section.lead.invert { text-shadow: 0 0 10px black, 0 0 20px black; }
section.smaller-type li, ul ul li { font-size: 85% }
marp-pre code, marp-pre { background-color: #042029; }
.hljs-string { color: #8ae234; }
.hljs-number, .hljs-literal { color: #729fcf; }
.hljs-params { color: #e9b96e; font-style: italic; }
.hljs-built_in { color: #fce94f; font-weight: bold; }
.hljs-title.class_ { color: #fce94f; text-decoration: none; font-weight: bold; }
.hljs-title.function_ { color: #c8a8c4; }
.hljs-keyword { color: #fcaf3e; font-weight: bold; }
.hljs-attr { color: #e9b96e; }
.hljs-variable { color: red; font-weight: bold; }
/* .hljs-comment, .hljs-regexp, .hljs-symbol */
" class="gaia" data-marpit-pagination="25" data-marpit-pagination-total="26" style="--paginate:true;--class:gaia;--theme:gaia;--style:@import url('https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.1.1/css/all.min.css')
;">
<h1>Thanks</h1>
<p>GJS contributors from 42 and 43</p>
<h1>License</h1>
<p>Presentation licensed under Creative Commons BY-NC-ND 4.0</p>
</section>
</foreignObject></svg><svg data-marpit-svg="" viewBox="0 0 1280 720"><foreignObject width="1280" height="720"><section data-paginate="true" data-class="invert gaia lead" data-footer="Image: &lt;a href=&quot;https://pixabay.com/users/IRCat-10981235&quot;&gt;IRCat&lt;/a&gt; from &lt;a href=&quot;https://pixabay.com/&quot;&gt;Pixabay&lt;/a&gt;" data-theme="gaia" data-style="@import url('https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.1.1/css/all.min.css');
@import url('https://cdn.jsdelivr.net/npm/hack-font@3/build/web/hack-subset.css');
code { font-family: Hack; }
section { font-family: Cantarell, sans-serif; letter-spacing: 0; }
section.lead.invert { text-shadow: 0 0 10px black, 0 0 20px black; }
section.smaller-type li, ul ul li { font-size: 85% }
marp-pre code, marp-pre { background-color: #042029; }
.hljs-string { color: #8ae234; }
.hljs-number, .hljs-literal { color: #729fcf; }
.hljs-params { color: #e9b96e; font-style: italic; }
.hljs-built_in { color: #fce94f; font-weight: bold; }
.hljs-title.class_ { color: #fce94f; text-decoration: none; font-weight: bold; }
.hljs-title.function_ { color: #c8a8c4; }
.hljs-keyword { color: #fcaf3e; font-weight: bold; }
.hljs-attr { color: #e9b96e; }
.hljs-variable { color: red; font-weight: bold; }
/* .hljs-comment, .hljs-regexp, .hljs-symbol */
" class="invert gaia lead" data-marpit-pagination="26" data-marpit-pagination-total="26" style="--paginate:true;--class:invert gaia lead;--footer:Image: &lt;a href=&quot;https://pixabay.com/users/IRCat-10981235&quot;&gt;IRCat&lt;/a&gt; from &lt;a href=&quot;https://pixabay.com/&quot;&gt;Pixabay&lt;/a&gt;;--theme:gaia;--style:@import url('https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.1.1/css/all.min.css')
;" data-marpit-advanced-background="background"><div data-marpit-advanced-background-container="true" data-marpit-advanced-background-direction="horizontal"><figure style="background-image:url(&quot;computercat.jpg&quot;);"></figure></div></section></foreignObject><foreignObject width="1280" height="720"><section id="26" data-paginate="true" data-class="invert gaia lead" data-footer="Image: &lt;a href=&quot;https://pixabay.com/users/IRCat-10981235&quot;&gt;IRCat&lt;/a&gt; from &lt;a href=&quot;https://pixabay.com/&quot;&gt;Pixabay&lt;/a&gt;" data-theme="gaia" data-style="@import url('https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.1.1/css/all.min.css');
@import url('https://cdn.jsdelivr.net/npm/hack-font@3/build/web/hack-subset.css');
code { font-family: Hack; }
section { font-family: Cantarell, sans-serif; letter-spacing: 0; }
section.lead.invert { text-shadow: 0 0 10px black, 0 0 20px black; }
section.smaller-type li, ul ul li { font-size: 85% }
marp-pre code, marp-pre { background-color: #042029; }
.hljs-string { color: #8ae234; }
.hljs-number, .hljs-literal { color: #729fcf; }
.hljs-params { color: #e9b96e; font-style: italic; }
.hljs-built_in { color: #fce94f; font-weight: bold; }
.hljs-title.class_ { color: #fce94f; text-decoration: none; font-weight: bold; }
.hljs-title.function_ { color: #c8a8c4; }
.hljs-keyword { color: #fcaf3e; font-weight: bold; }
.hljs-attr { color: #e9b96e; }
.hljs-variable { color: red; font-weight: bold; }
/* .hljs-comment, .hljs-regexp, .hljs-symbol */
" class="invert gaia lead" data-marpit-pagination="26" data-marpit-pagination-total="26" style="--paginate:true;--class:invert gaia lead;--footer:Image: &lt;a href=&quot;https://pixabay.com/users/IRCat-10981235&quot;&gt;IRCat&lt;/a&gt; from &lt;a href=&quot;https://pixabay.com/&quot;&gt;Pixabay&lt;/a&gt;;--theme:gaia;--style:@import url('https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.1.1/css/all.min.css')
;" data-marpit-advanced-background="content">
<h1>Questions?</h1>
<h1>‍</h1>
<footer>Image: <a href="https://pixabay.com/users/IRCat-10981235">IRCat</a> from <a href="https://pixabay.com/">Pixabay</a></footer>
</section>
<script>!function(){"use strict";const t={h1:{proto:()=>HTMLHeadingElement,attrs:{role:"heading","aria-level":"1"},style:"display: block; font-size: 2em; margin-block-start: 0.67em; margin-block-end: 0.67em; margin-inline-start: 0px; margin-inline-end: 0px; font-weight: bold;"},h2:{proto:()=>HTMLHeadingElement,attrs:{role:"heading","aria-level":"2"},style:"display: block; font-size: 1.5em; margin-block-start: 0.83em; margin-block-end: 0.83em; margin-inline-start: 0px; margin-inline-end: 0px; font-weight: bold;"},h3:{proto:()=>HTMLHeadingElement,attrs:{role:"heading","aria-level":"3"},style:"display: block; font-size: 1.17em; margin-block-start: 1em; margin-block-end: 1em; margin-inline-start: 0px; margin-inline-end: 0px; font-weight: bold;"},h4:{proto:()=>HTMLHeadingElement,attrs:{role:"heading","aria-level":"4"},style:"display: block; margin-block-start: 1.33em; margin-block-end: 1.33em; margin-inline-start: 0px; margin-inline-end: 0px; font-weight: bold;"},h5:{proto:()=>HTMLHeadingElement,attrs:{role:"heading","aria-level":"5"},style:"display: block; font-size: 0.83em; margin-block-start: 1.67em; margin-block-end: 1.67em; margin-inline-start: 0px; margin-inline-end: 0px; font-weight: bold;"},h6:{proto:()=>HTMLHeadingElement,attrs:{role:"heading","aria-level":"6"},style:"display: block; font-size: 0.67em; margin-block-start: 2.33em; margin-block-end: 2.33em; margin-inline-start: 0px; margin-inline-end: 0px; font-weight: bold;"},span:{proto:()=>HTMLSpanElement},pre:{proto:()=>HTMLElement,style:"display: block; font-family: monospace; white-space: pre; margin: 1em 0; --marp-auto-scaling-white-space: pre;"}},e="data-marp-auto-scaling-wrapper",i="data-marp-auto-scaling-svg",n="data-marp-auto-scaling-container";class o extends HTMLElement{constructor(){super(),this.svgPreserveAspectRatio="xMinYMid meet";const t=t=>([e])=>{const{width:i,height:n}=e.contentRect;this[t]={width:i,height:n},this.updateSVGRect()};this.attachShadow({mode:"open"}),this.containerObserver=new ResizeObserver(t("containerSize")),this.wrapperObserver=new ResizeObserver(t("wrapperSize"))}static get observedAttributes(){return["data-downscale-only"]}connectedCallback(){var t,o,s,r,a;this.shadowRoot.innerHTML=`\n<style>\n  svg[${i}] { display: block; width: 100%; height: auto; vertical-align: top; }\n  span[${n}] { display: table; white-space: var(--marp-auto-scaling-white-space, nowrap); width: max-content; }\n</style>\n<div ${e}>\n  <svg part="svg" ${i}>\n    <foreignObject><span ${n}><slot></slot></span></foreignObject>\n  </svg>\n</div>\n    `.split(/\n\s*/).join(""),this.wrapper=null!==(t=this.shadowRoot.querySelector(`div[${e}]`))&&void 0!==t?t:void 0;const l=this.svg;this.svg=null!==(s=null===(o=this.wrapper)||void 0===o?void 0:o.querySelector(`svg[${i}]`))&&void 0!==s?s:void 0,this.svg!==l&&(this.svgComputedStyle=this.svg?window.getComputedStyle(this.svg):void 0),this.container=null!==(a=null===(r=this.svg)||void 0===r?void 0:r.querySelector(`span[${n}]`))&&void 0!==a?a:void 0,this.observe()}disconnectedCallback(){this.svg=void 0,this.svgComputedStyle=void 0,this.wrapper=void 0,this.container=void 0,this.observe()}attributeChangedCallback(){this.observe()}observe(){this.containerObserver.disconnect(),this.wrapperObserver.disconnect(),this.wrapper&&this.wrapperObserver.observe(this.wrapper),this.container&&this.containerObserver.observe(this.container),this.svgComputedStyle&&this.observeSVGStyle(this.svgComputedStyle)}observeSVGStyle(t){const e=()=>{const i=(()=>{const e=t.getPropertyValue("--preserve-aspect-ratio");if(e)return e.trim();return`x${(({textAlign:t,direction:e})=>{if(t.endsWith("left"))return"Min";if(t.endsWith("right"))return"Max";if("start"===t||"end"===t){let i="rtl"===e;return"end"===t&&(i=!i),i?"Max":"Min"}return"Mid"})(t)}YMid meet`})();i!==this.svgPreserveAspectRatio&&(this.svgPreserveAspectRatio=i,this.updateSVGRect()),t===this.svgComputedStyle&&requestAnimationFrame(e)};e()}updateSVGRect(){var t,e,i,n,o,s,r;let a=Math.ceil(null!==(e=null===(t=this.containerSize)||void 0===t?void 0:t.width)&&void 0!==e?e:0);const l=Math.ceil(null!==(n=null===(i=this.containerSize)||void 0===i?void 0:i.height)&&void 0!==n?n:0);void 0!==this.dataset.downscaleOnly&&(a=Math.max(a,null!==(s=null===(o=this.wrapperSize)||void 0===o?void 0:o.width)&&void 0!==s?s:0));const c=null===(r=this.svg)||void 0===r?void 0:r.querySelector(":scope > foreignObject");if(null==c||c.setAttribute("width",`${a}`),null==c||c.setAttribute("height",`${l}`),this.svg&&(this.svg.setAttribute("viewBox",`0 0 ${a} ${l}`),this.svg.setAttribute("preserveAspectRatio",this.svgPreserveAspectRatio),this.svg.style.height=a<=0||l<=0?"0":""),this.container){const t=this.svgPreserveAspectRatio.toLowerCase();this.container.style.marginLeft=t.startsWith("xmid")||t.startsWith("xmax")?"auto":"0",this.container.style.marginRight=t.startsWith("xmi")?"auto":"0"}}}const s=(t,{attrs:e={},style:i})=>class extends t{constructor(...t){super(...t);for(const[t,i]of Object.entries(e))this.hasAttribute(t)||this.setAttribute(t,i);this.attachShadow({mode:"open"})}static get observedAttributes(){return["data-auto-scaling"]}connectedCallback(){this._update()}attributeChangedCallback(){this._update()}_update(){const t=i?`<style>:host { ${i} }</style>`:"";let e="<slot></slot>";const{autoScaling:n}=this.dataset;if(void 0!==n){e=`<marp-auto-scaling exportparts="svg:auto-scaling" ${"downscale-only"===n?"data-downscale-only":""}>${e}</marp-auto-scaling>`}this.shadowRoot.innerHTML=t+e}};let r;const a=Symbol(),l="marpitSVGPolyfill:setZoomFactor,",c=Symbol();let d,p;function g(t){const e="object"==typeof t&&t.target||document,i="object"==typeof t?t.zoom:t;window[c]||(Object.defineProperty(window,c,{configurable:!0,value:!0}),window.addEventListener("message",(({data:t,origin:e})=>{if(e===window.origin)try{if(t&&"string"==typeof t&&t.startsWith(l)){const[,e]=t.split(","),i=Number.parseFloat(e);Number.isNaN(i)||(p=i)}}catch(t){console.error(t)}})));let n=!1;Array.from(e.querySelectorAll("svg[data-marpit-svg]"),(t=>{var e,o,s,r;t.style.transform||(t.style.transform="translateZ(0)");const a=i||p||t.currentScale||1;d!==a&&(d=a,n=a);const l=t.getBoundingClientRect(),{length:c}=t.children;for(let i=0;i<c;i+=1){const n=t.children[i];if(n.getScreenCTM){const t=n.getScreenCTM();if(t){const i=null!==(o=null===(e=n.x)||void 0===e?void 0:e.baseVal.value)&&void 0!==o?o:0,c=null!==(r=null===(s=n.y)||void 0===s?void 0:s.baseVal.value)&&void 0!==r?r:0,d=n.children.length;for(let e=0;e<d;e+=1){const o=n.children[e];if("SECTION"===o.tagName){const{style:e}=o;e.transformOrigin||(e.transformOrigin=`${-i}px ${-c}px`),e.transform=`scale(${a}) matrix(${t.a}, ${t.b}, ${t.c}, ${t.d}, ${t.e-l.left}, ${t.f-l.top}) translateZ(0.0001px)`;break}}}}}})),!1!==n&&Array.from(e.querySelectorAll("iframe"),(({contentWindow:t})=>{null==t||t.postMessage(`${l}${n}`,"null"===window.origin?"*":window.origin)}))}function h({once:t=!1,target:e=document}={}){const i="Apple Computer, Inc."===navigator.vendor?[g]:[];let n=!t;const o=()=>{for(const t of i)t({target:e});n&&window.requestAnimationFrame(o)};return o(),()=>{n=!1}}d=1,p=void 0;const m=Symbol(),v=(e=document)=>{if("undefined"==typeof window)throw new Error("Marp Core's browser script is valid only in browser context.");if(((e=document)=>{const i=window[a];i||customElements.define("marp-auto-scaling",o);for(const n of Object.keys(t)){const o=`marp-${n}`,a=t[n].proto();null!=r||(r=!!document.createElement("div",{is:"marp-auto-scaling"}).outerHTML.startsWith("<div is")),r&&a!==HTMLElement?i||customElements.define(o,s(a,{style:t[n].style}),{extends:n}):(i||customElements.define(o,s(HTMLElement,t[n])),e.querySelectorAll(`${n}[is="${o}"]`).forEach((t=>{t.outerHTML=t.outerHTML.replace(new RegExp(`^<${n}`,"i"),`<${o}`).replace(new RegExp(`</${n}>$`,"i"),`</${o}>`)})))}window[a]=!0})(e),e[m])return e[m];const i=h({target:e}),n=()=>{i(),delete e[m]},l=Object.assign(n,{cleanup:n,update:()=>v(e)});return Object.defineProperty(e,m,{configurable:!0,value:l}),l},u=document.currentScript;v(u?u.getRootNode():document)}();
</script></foreignObject><foreignObject width="1280" height="720" data-marpit-advanced-background="pseudo"><section data-paginate="true" data-class="invert gaia lead" data-footer="Image: &lt;a href=&quot;https://pixabay.com/users/IRCat-10981235&quot;&gt;IRCat&lt;/a&gt; from &lt;a href=&quot;https://pixabay.com/&quot;&gt;Pixabay&lt;/a&gt;" data-theme="gaia" data-style="@import url('https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.1.1/css/all.min.css');
@import url('https://cdn.jsdelivr.net/npm/hack-font@3/build/web/hack-subset.css');
code { font-family: Hack; }
section { font-family: Cantarell, sans-serif; letter-spacing: 0; }
section.lead.invert { text-shadow: 0 0 10px black, 0 0 20px black; }
section.smaller-type li, ul ul li { font-size: 85% }
marp-pre code, marp-pre { background-color: #042029; }
.hljs-string { color: #8ae234; }
.hljs-number, .hljs-literal { color: #729fcf; }
.hljs-params { color: #e9b96e; font-style: italic; }
.hljs-built_in { color: #fce94f; font-weight: bold; }
.hljs-title.class_ { color: #fce94f; text-decoration: none; font-weight: bold; }
.hljs-title.function_ { color: #c8a8c4; }
.hljs-keyword { color: #fcaf3e; font-weight: bold; }
.hljs-attr { color: #e9b96e; }
.hljs-variable { color: red; font-weight: bold; }
/* .hljs-comment, .hljs-regexp, .hljs-symbol */
" class="invert gaia lead" data-marpit-pagination="26" data-marpit-pagination-total="26" style="" data-marpit-advanced-background="pseudo"></section></foreignObject></svg></div><div class="bespoke-marp-note" data-index="0" tabindex="0"><p>Hi! My name is Philip Chimento. I've been a regular GNOME contributor for about 10 years. In that time I've written apps and now I maintain our JavaScript engine. In a stunning coincidence, at my day job at Igalia, I also work on JavaScript engines.

  Unfortunately I can't be here in person so as you can see I'm giving the talk remotely. I hope you all are enjoying Mexico.</p></div><div class="bespoke-marp-note" data-index="1" tabindex="0"><p>Today I'll be talking about what's new with JavaScript in GNOME. I've given similar talks at previous GUADECs and this is the 2022 episode, so if you've been here before you probably know what to expect.

  As every year, this talk is primarily aimed at people who write code for the GNOME platform in the JavaScript programming language, whether that is GNOME Shell, apps, shell extensions, or even command line scripts.
  GNOME has its own JavaScript engine, GJS, which is an extended version of the JavaScript engine from the Firefox browser.

  The difference from last year is that I asked for a shorter presentation slot. In past years I talked a lot in the &quot;what's new and what's next&quot; sections about the various ways to modernize your code, but nowadays we are running a pretty modern JavaScript in GNOME, with no modernization &quot;backlog&quot;. So while I'll still give a tour of what's new and what's next, I'll speed through that part of the presentation pretty quickly. I won't leave it out - lots of people contributed lots of cool things and that deserves celebration! But we have a lot more visibility of these improvements these days, with better documentation, a more active community of GJS developers, and initiatives like This Week in GNOME, so a yearly GUADEC talk is no longer the only channel where people find out about these things.

  So, the rest of the presentation will be about what we need help with. As every year, I'll talk about the &quot;Big Hammer&quot; bug and what help we need to finally squash it. But there are also projects at every other level that you can get involved with.</p></div><div class="bespoke-marp-note" data-index="2" tabindex="0"><p>This presentation is also meant to be a resource that you can consult later. So I will be running pretty quickly through things like the new APIs, because they're not really that interesting to talk about; but you can go back and read them later and click through the links.

  The slides are already available on my web space so if you want to click on the links NOW, you can already go there and follow along with the presentation.</p></div><div class="bespoke-marp-note" data-index="3" tabindex="0"><p>Part One. What's new for GNOME 42 and the soon-to-be-released GNOME 43?
    By the way, I'll use these little circled 42 and 43 icons to show things that you can expect to see in GNOME 42 and 43. And when you see a hat emoji, that's me tipping my hat to the person who contributed it.</p></div><div class="bespoke-marp-note" data-index="4" tabindex="0"><p>In GNOME 42 Marco gave us the ability to pass BigInts to functions which in C would take a 64-bit integer. We've had BigInts for quite a while in GJS but they didn't integrate with the GNOME platform. At the same time, we had the problem that you can't pass the full range of 64-bit integers to C because in JavaScript, numbers are floating point, so not precise above a certain value. Now you can use BigInt for these cases.

    How to return 64-bit integers we're not really sure how to do it yet. Since these functions have always returned regular numbers before BigInt existed, it'd break people's code to have them start returning BigInts. We have several ideas on that linked thread, please chime in if your code would use this feature.</p></div><div class="bespoke-marp-note" data-index="5" tabindex="0"><p>Also in GNOME 42 we got a three-person collaboration to write a new system for scheduling Promise resolution, for when you're writing asynchronous code. Evan wrote a GSource, Marco added some things, and Philip did the code review so that I didn't have to become a GSource expert.

    One thing I like about this collaboration is that it was a success story of how GUADEC helps to connect people. I presented this task in my talk, and Philip volunteered to do the code review already then. Every little bit helps!</p></div><div class="bespoke-marp-note" data-index="6" tabindex="0"><p>Another GNOME 42 hit from Evan was to implement global setTimeout and setInterval functions just like in the browser, but integrated with the GLib main loop. Just like the global console object and TextEncoder that Evan did for GNOME 41, this is a familiarity boost for newcomers who might be familiar with web development.</p></div><div class="bespoke-marp-note" data-index="7" tabindex="0"><p>Former Outreachy intern Nasah returns with an implementation of a long-standing issue: the output in the interactive interpreter used to be not great for objects, it would print the dreaded &quot;object Object&quot; and then you have to resort to workarounds such as Object.keys or JSON.stringify. This is no longer the case! Now you get a usefully pretty-printed object.

    You also get this in log() and logError() which are often used for debugging. Not in print() because that's often used for user-visible output.</p></div><div class="bespoke-marp-note" data-index="8" tabindex="0"><p>This cycle we get from Sergio, a convenience for async calls of DBus methods when you generate a DBus proxy class. It used to be that you had to use a callback, and additionally the method was weirdly named &quot;Remote&quot;. &quot;Remote&quot; still exists, so your old code will continue to work, but now there is also an &quot;Async&quot; method and it returns a Promise so you can write code in a more modern style, with async/await.</p></div><div class="bespoke-marp-note" data-index="9" tabindex="0"><p>I almost always have a section on what JS language features are new, when we upgrade the verion of the underlying JavaScript engine to one from a newer Firefox. This year we upgraded to Firefox 91 in 
    GNOME 42, and we're planning to upgrade to Firefox 102 in GNOME 43.

    This used to take up the bulk of my presentations, but more recently, this has been somewhat less interesting, since Firefox no longer has a backlog of specified JS language features to implement. So now the new language features we get are still pretty new and not that widely used yet.

    Also, Firefox used to have lots of nonstandard extensions in its JavaScript, but those are I think all gone now. I used to have to warn people about all sorts of code that wouldn't work anymore. Luckily, this time around there are no backwards incompatibilities that you have to remove from your code, this time, that we know of, yet!

    By the way, why two upgrades in one year?!
    Firefox's release cycle for long-term support versions is now a bit less than a year, so the point in the GNOME release cycle when we can upgrade keeps changing.</p></div><div class="bespoke-marp-note" data-index="10" tabindex="0"><p>Here's the first half of what we get:
    - the AT method, so we can finally easily get the last element of an array or string with at(-1)
    - the logical assignment operators, these are really useful for dealing with objects used as options bags
    - export-star-from, this is useful when aggregating several modules into one export
    - the D flag for regular expressions, use this when you want to find exactly where in the string each match group occurred
    - static blocks, these can be useful for things that you might otherwise do in a ClassInit method</p></div><div class="bespoke-marp-note" data-index="11" tabindex="0"><p>...and there's more!
    - Error cause is useful when you want to rethrow an error but tack another error on top of it
    - WeakRef may be useful for breaking reference cycles although I haven't really tried it out yet
    - Promise.any is handy when you have several async operations and you want to wait for one of them to succeed, but you don't care which one
    - toplevel await gives you a bit cleaner code when you are importing modules (although you have to be careful to use it in a way that doesn't impact your startup time)
    - Object.hasOwn is just a nice shorthand so that you don't have to do Object.prototype.hasOwnProperty.call
    - there's a lot of new stuff in internationalization that I think apps and GNOME shell would benefit from but not a lot of people realize it exists. I don't have enough time in this talk to go into all of it, but maybe I will submit a talk just on that topic next year, especially if we get Temporal.</p></div><div class="bespoke-marp-note" data-index="12" tabindex="0"><p>The last and probably most visible thing that we get is private class members. We always used underscore to indicate private-by-convention. If you have a JavaScript class, you can now have truly encapsulated fields that cannot be accessed outside the class.

    At first this didn't work with GObject classes but now it does thanks to Evan. This brought in some other improvements as well, which I'll share in the next slide...</p></div><div class="bespoke-marp-note" data-index="13" tabindex="0"><p>While Evan was fixing GObject classes to work with class fields, he also fixed a long-standing annoyance: now you don't have to use underscore-init as the constructor anymore in GObject classes. You can write a constructor just like normal classes.
    So, a GObject class now looks like this - I've updated my example app to take advantage of this.</p></div><div class="bespoke-marp-note" data-index="14" tabindex="0"><p>Now we come to the second part of the presentation.

    Want more exciting stuff to happen? Here's how we could use your help!</p></div><div class="bespoke-marp-note" data-index="15" tabindex="0"><p>First-time app and extension writers often copy code in order to get started quickly, and this is a perfectly normal thing to do! That's part of what free software is all about: the freedom to study software. So we should have good code and good practices available for people to learn from.

    If you've started using GJS and you find something that is confusing, or a bad example, come talk to us in our Matrix channel. The thing you're asking about may or may not be a mistake or a bug, or it may be outdated, but usually there's at least a good answer to the question &quot;where would have been a good place for you to find this information?&quot; that will move things forward for the next person to have the same question. Then if you make a merge request out of the information that would've helped you, that's incredibly helpful for the maintainers and everyone else too.

    Compared to a few years ago the situation has really improved. The &quot;Extensions Rebooted&quot; initiative has really breathed new life into the GJS community and we all owe them a big debt of thanks. We actually have several resources now, where we used to have none. I'll talk about them in the next slide.</p></div><div class="bespoke-marp-note" data-index="16" tabindex="0"><p>We have several example apps, and a couple of websites. gtk-js-app is a bit older but was updated not too long ago, it's still a decent example of a GTK 3 app although it still uses old-style imports. Bloatpad is from my talk last year at Linux Application Summit and I just recently updated it for GNOME 42. We also have a brand new example app from Romain in the GTK4+GJS Book. GJS Guide is really active these days with many guides being written.

    I used to think it was urgent that we consolidate all this material into one place, but I've kind of learned since then that it makes more sense to let people make whatever they are enthusiastic to make, and just make sure that there are plenty of links, and that if something is really old and contains out-of-date advice, it gets removed from the web.

    In the case of the GNOME Platform Demos, I always thought those were good stuff, but they are very old and the best practices have changed in the meantime. A good project might be to see which of those example apps are still relevant, rewrite them for the modern day, and move them into one of the maintained guides.

    A good way to help in general is to help edit all this material; keep it updated and even more importantly, look at it with fresh eyes. I can say from experience that when you author a guide like this, it's easy to suffer from the &quot;curse of knowledge&quot; where you have forgotten what is and isn't obvious to a newcomer. Helping with this is something that newcomers can uniquely do, and learn a lot in the process.</p></div><div class="bespoke-marp-note" data-index="17" tabindex="0"><p>There are also some resources that exist in other languages but not in JavaScript. Notably the GNOME Platform Getting Started is kind of our flagship tutorial now, and is only available in C and Python. This would be a great and also impactful project for someone, to port the tutorial to JavaScript.

    On the same site there are more tutorials. Some of them exist in JavaScript, but not all. Ideally all of these tutorials and code snippets should be available in GJS!

    A bit older is How Do I. A lot of the content there has already been moved to GNOME Platform Tutorials, but not all. How Do I was pretty much all C code, so there's some porting to do there as well.</p></div><div class="bespoke-marp-note" data-index="18" tabindex="0"><p>Now how about an impactful coding project. For years we have quested after the holy grail of native async operations. It's been the topic of two Outreachy internships, Avi and Veena worked on it and improved the situation, but we need to 
    I will show you what it is in the next slide.
    As an example I'll use some simple code that reads the contents of one file and writes it to another file, both asynchronously.</p></div><div class="bespoke-marp-note" data-index="19" tabindex="0"><p>This is the old way of doing things. Isn't it horrendous. It's not called the pyramid of doom for nothing. Imagine if you needed to chain even more async operations!

    Each operation has an async start function that takes a callback parameter, and a finish function that must be called inside the callback.

    Strictly speaking the try-catches aren't necessary here because when an exception is thrown inside a callback it'll get logged anyway when control returns to the main loop, since there's nowhere else to throw it. But we might fix that at some point if it's possible and doesn't break too much existing code.</p></div><div class="bespoke-marp-note" data-index="20" tabindex="0"><p>This is what the current situation looks like. We opt in to making these two methods return Promises using an unofficial function, underscore-promisify. Once you do that, you can use await with them, and not pass callback parameters. This was originally released as a &quot;technology preview&quot; but it stuck around.</p></div><div class="bespoke-marp-note" data-index="21" tabindex="0"><p>The last bit we need to do is to just make this automatic, without the opt-in. So we can just delete these underscore-promisify lines. And we are halfway there.</p></div><div class="bespoke-marp-note" data-index="22" tabindex="0"><p>What the underscore-promisify does is tie the start and finish functions together, and it relies on you the programmer to provide that information. In order for it to be done automatically, we need gobject-introspection annotations to provide the information. As of last year we have a merge request that does this, and can put that information into the GIR files. However, before it can be merged, it still needs a C API.
    Then finally we'd need to implement it in GJS. 

    This would be a good medium-sized project for someone who knows C, and really impactful. There are any number of people who can help plan it out or review it, myself included.</p></div><div class="bespoke-marp-note" data-index="23" tabindex="0"><p>Speaking of impactful.
    Well, I've milked four GUADEC talks out of this Big Hammer issue, so it's really time to get the fix landed.
    If you want all the details, watch my talk at GUADEC 2019, but I'll give a quick summary.
    We had an issue with the garbage collector in JS holding on to objects longer than it should have.
    We have a workaround, affectionately called the Big Hammer, that runs the garbage collector every 10 seconds to clean up these objects. However, this is obviously bad for performance. We have had a fix mostly finished for several years! But the problem is that if we merge it, then GNOME Shell's memory usage will go up again because we are no longer OVER-collecting garbage. Users do watch this stuff, and so if we do that, it will be a public relations disaster with all sorts of articles published complaining about memory leaks that are not actually memory leaks.

    So, there are only squishy, demotivating problems left to solve where it's not clear what success looks like, and we really need some help with these. What we really need is a way to measure and quantify the effect of the fix on GNOME Shell's performace, that takes both CPU time and memory usage into account, and is not just someone running Top - so that we can correctly and effectively tune the garbage collector's parameters for a long-lived process like GNOME Shell.

    We also need help with a communication plan, so we can figure out how to set expectations for users who have been awaiting this fix for a long time.

    Can you help quantify this, or help communicate it? PLEASE help.</p></div><div class="bespoke-marp-note" data-index="24" tabindex="0"><p>On that note, I'd like to end by acknowledging everyone who helped in any way with GJS in GNOME 42 and 43!

    Here's the license; you may reuse bits of this presentation as-is, with attribution, and not for commercial use.

    Now it's time for...</p></div><div class="bespoke-marp-note" data-index="25" tabindex="0"><p>...questions.</p></div><script>/*!! License: https://unpkg.com/@marp-team/marp-cli@2.0.4/lib/bespoke.js.LICENSE.txt */
!function(){"use strict";const e=document.body,t=(...e)=>history.replaceState(...e),n="presenter",r="next",o=["",n,r],a="data-bespoke-marp-",i=(e,{protocol:t,host:n,pathname:r,hash:o}=location)=>{const a=e.toString();return`${t}//${n}${r}${a?"?":""}${a}${o}`},s=()=>e.dataset.bespokeView,l=e=>new URLSearchParams(location.search).get(e),c=(e,n={})=>{var r;const o={location,setter:t,...n},a=new URLSearchParams(o.location.search);for(const t of Object.keys(e)){const n=e[t];"string"==typeof n?a.set(t,n):a.delete(t)}try{o.setter({...null!==(r=window.history.state)&&void 0!==r?r:{}},"",i(a,o.location))}catch(e){console.error(e)}},d=(()=>{const e="bespoke-marp";try{return localStorage.setItem(e,e),localStorage.removeItem(e),!0}catch(e){return!1}})(),u=e=>{try{return localStorage.getItem(e)}catch(e){return null}},m=(e,t)=>{try{return localStorage.setItem(e,t),!0}catch(e){return!1}},f=e=>{try{return localStorage.removeItem(e),!0}catch(e){return!1}},g=(e,t)=>{const n="aria-hidden";t?e.setAttribute(n,"true"):e.removeAttribute(n)},p=e=>{e.parent.classList.add("bespoke-marp-parent"),e.slides.forEach((e=>e.classList.add("bespoke-marp-slide"))),e.on("activate",(t=>{const n="bespoke-marp-active",r=t.slide,o=r.classList,a=!o.contains(n);if(e.slides.forEach((e=>{e.classList.remove(n),g(e,!0)})),o.add(n),g(r,!1),a){const e=`${n}-ready`;o.add(e),document.body.clientHeight,o.remove(e)}}))},v=e=>{let t=0,n=0;Object.defineProperty(e,"fragments",{enumerable:!0,value:e.slides.map((e=>[null,...e.querySelectorAll("[data-marpit-fragment]")]))});const r=r=>void 0!==e.fragments[t][n+r],o=(r,o)=>{t=r,n=o,e.fragments.forEach(((e,t)=>{e.forEach(((e,n)=>{if(null==e)return;const i=t<r||t===r&&n<=o;e.setAttribute(`${a}fragment`,(i?"":"in")+"active");const s=`${a}current-fragment`;t===r&&n===o?e.setAttribute(s,"current"):e.removeAttribute(s)}))})),e.fragmentIndex=o;const i={slide:e.slides[r],index:r,fragments:e.fragments[r],fragmentIndex:o};e.fire("fragment",i)};e.on("next",(({fragment:a=!0})=>{if(a){if(r(1))return o(t,n+1),!1;const a=t+1;e.fragments[a]&&o(a,0)}else{const r=e.fragments[t].length;if(n+1<r)return o(t,r-1),!1;const a=e.fragments[t+1];a&&o(t+1,a.length-1)}})),e.on("prev",(({fragment:a=!0})=>{if(r(-1)&&a)return o(t,n-1),!1;const i=t-1;e.fragments[i]&&o(i,e.fragments[i].length-1)})),e.on("slide",(({index:t,fragment:n})=>{let r=0;if(void 0!==n){const o=e.fragments[t];if(o){const{length:e}=o;r=-1===n?e-1:Math.min(Math.max(n,0),e-1)}}o(t,r)})),o(0,0)},h=document,y=()=>!(!h.fullscreenEnabled&&!h.webkitFullscreenEnabled),b=()=>!(!h.fullscreenElement&&!h.webkitFullscreenElement),w=e=>{e.fullscreen=()=>{y()&&(async()=>{return b()?null===(e=h.exitFullscreen||h.webkitExitFullscreen)||void 0===e?void 0:e.call(h):((e=h.body)=>{var t;return null===(t=e.requestFullscreen||e.webkitRequestFullscreen)||void 0===t?void 0:t.call(e)})();var e})()},document.addEventListener("keydown",(t=>{"f"!==t.key&&"F11"!==t.key||t.altKey||t.ctrlKey||t.metaKey||!y()||(e.fullscreen(),t.preventDefault())}))},x="bespoke-marp-inactive",k=(e=2e3)=>({parent:t,fire:n})=>{const r=t.classList,o=e=>n(`marp-${e?"":"in"}active`);let a;const i=()=>{a&&clearTimeout(a),a=setTimeout((()=>{r.add(x),o()}),e),r.contains(x)&&(r.remove(x),o(!0))};for(const e of["mousedown","mousemove","touchend"])document.addEventListener(e,i);setTimeout(i,0)},E=["AUDIO","BUTTON","INPUT","SELECT","TEXTAREA","VIDEO"],$=e=>{e.parent.addEventListener("keydown",(e=>{if(!e.target)return;const t=e.target;(E.includes(t.nodeName)||"true"===t.contentEditable)&&e.stopPropagation()}))},L=e=>{window.addEventListener("load",(()=>{for(const t of e.slides){const e=t.querySelector("marp-auto-scaling, [data-auto-scaling], [data-marp-fitting]");t.setAttribute(`${a}load`,e?"":"hideable")}}))},S=({interval:e=250}={})=>t=>{document.addEventListener("keydown",(e=>{if(" "===e.key&&e.shiftKey)t.prev();else if("ArrowLeft"===e.key||"ArrowUp"===e.key||"PageUp"===e.key)t.prev({fragment:!e.shiftKey});else if(" "!==e.key||e.shiftKey)if("ArrowRight"===e.key||"ArrowDown"===e.key||"PageDown"===e.key)t.next({fragment:!e.shiftKey});else if("End"===e.key)t.slide(t.slides.length-1,{fragment:-1});else{if("Home"!==e.key)return;t.slide(0)}else t.next();e.preventDefault()}));let n,r,o=0;t.parent.addEventListener("wheel",(a=>{let i=!1;const s=(e,t)=>{e&&(i=i||((e,t)=>((e,t)=>{const n="X"===t?"Width":"Height";return e[`client${n}`]<e[`scroll${n}`]})(e,t)&&((e,t)=>{const{overflow:n}=e,r=e[`overflow${t}`];return"auto"===n||"scroll"===n||"auto"===r||"scroll"===r})(getComputedStyle(e),t))(e,t)),(null==e?void 0:e.parentElement)&&s(e.parentElement,t)};if(0!==a.deltaX&&s(a.target,"X"),0!==a.deltaY&&s(a.target,"Y"),i)return;a.preventDefault();const l=Math.sqrt(a.deltaX**2+a.deltaY**2);if(void 0!==a.wheelDelta){if(void 0===a.webkitForce&&Math.abs(a.wheelDelta)<40)return;if(a.deltaMode===a.DOM_DELTA_PIXEL&&l<4)return}else if(a.deltaMode===a.DOM_DELTA_PIXEL&&l<12)return;r&&clearTimeout(r),r=setTimeout((()=>{n=0}),e);const c=Date.now()-o<e,d=l<=n;if(n=l,c||d)return;let u;(a.deltaX>0||a.deltaY>0)&&(u="next"),(a.deltaX<0||a.deltaY<0)&&(u="prev"),u&&(t[u](),o=Date.now())}))},P=(e=".bespoke-marp-osc")=>{const t=document.querySelector(e);if(!t)return()=>{};const n=(e,n)=>{t.querySelectorAll(`[${a}osc=${JSON.stringify(e)}]`).forEach(n)};return y()||n("fullscreen",(e=>e.style.display="none")),d||n("presenter",(e=>{e.disabled=!0,e.title="Presenter view is disabled due to restricted localStorage."})),e=>{t.addEventListener("click",(t=>{if(t.target instanceof HTMLElement){const{bespokeMarpOsc:n}=t.target.dataset;n&&t.target.blur();const r={fragment:!t.shiftKey};"next"===n?e.next(r):"prev"===n?e.prev(r):"fullscreen"===n?null==e||e.fullscreen():"presenter"===n&&e.openPresenterView()}})),e.parent.appendChild(t),e.on("activate",(({index:t})=>{n("page",(n=>n.textContent=`Page ${t+1} of ${e.slides.length}`))})),e.on("fragment",(({index:t,fragments:r,fragmentIndex:o})=>{n("prev",(e=>e.disabled=0===t&&0===o)),n("next",(n=>n.disabled=t===e.slides.length-1&&o===r.length-1))})),e.on("marp-active",(()=>g(t,!1))),e.on("marp-inactive",(()=>g(t,!0))),y()&&(e=>{for(const t of["","webkit"])h.addEventListener(t+"fullscreenchange",e)})((()=>n("fullscreen",(e=>e.classList.toggle("exit",y()&&b())))))}},_=e=>{window.addEventListener("message",(t=>{if(t.origin!==window.origin)return;const[n,r]=t.data.split(":");if("navigate"===n){const[t,n]=r.split(",");let o=Number.parseInt(t,10),a=Number.parseInt(n,10)+1;a>=e.fragments[o].length&&(o+=1,a=0),e.slide(o,{fragment:a})}}))};var T=["area","base","br","col","command","embed","hr","img","input","keygen","link","meta","param","source","track","wbr"];let I=e=>String(e).replace(/[&<>"']/g,(e=>`&${A[e]};`)),A={"&":"amp","<":"lt",">":"gt",'"':"quot","'":"apos"},M="dangerouslySetInnerHTML",D={className:"class",htmlFor:"for"},O={};function C(e,t){let n=[],r="";t=t||{};for(let e=arguments.length;e-- >2;)n.push(arguments[e]);if("function"==typeof e)return t.children=n.reverse(),e(t);if(e){if(r+="<"+e,t)for(let e in t)!1!==t[e]&&null!=t[e]&&e!==M&&(r+=` ${D[e]?D[e]:I(e)}="${I(t[e])}"`);r+=">"}if(-1===T.indexOf(e)){if(t[M])r+=t[M].__html;else for(;n.length;){let e=n.pop();if(e)if(e.pop)for(let t=e.length;t--;)n.push(e[t]);else r+=!0===O[e]?e:I(e)}r+=e?`</${e}>`:""}return O[r]=!0,r}const N=({children:e})=>C(null,null,...e),B="bespoke-marp-presenter-",q={container:`${B}container`,dragbar:`${B}dragbar-container`,next:`${B}next`,nextContainer:`${B}next-container`,noteContainer:`${B}note-container`,noteWrapper:`${B}note-wrapper`,noteButtons:`${B}note-buttons`,infoContainer:`${B}info-container`,infoPage:`${B}info-page`,infoPageText:`${B}info-page-text`,infoPagePrev:`${B}info-page-prev`,infoPageNext:`${B}info-page-next`,noteButtonsBigger:`${B}note-bigger`,noteButtonsSmaller:`${B}note-smaller`,infoTime:`${B}info-time`,infoTimer:`${B}info-timer`},K=e=>{const{title:t}=document;document.title="[Presenter view]"+(t?` - ${t}`:"");const n={},r=e=>(n[e]=n[e]||document.querySelector(`.${e}`),n[e]);document.body.appendChild((e=>{const t=document.createElement("div");return t.className=q.container,t.appendChild(e),t.insertAdjacentHTML("beforeend",C(N,null,C("div",{class:q.nextContainer},C("iframe",{class:q.next,src:"?view=next"})),C("div",{class:q.dragbar}),C("div",{class:q.noteContainer},C("div",{class:q.noteWrapper}),C("div",{class:q.noteButtons},C("button",{class:q.noteButtonsSmaller,tabindex:"-1",title:"Smaller notes font size"},"Smaller notes font size"),C("button",{class:q.noteButtonsBigger,tabindex:"-1",title:"Bigger notes font size"},"Bigger notes font size"))),C("div",{class:q.infoContainer},C("div",{class:q.infoPage},C("button",{class:q.infoPagePrev,tabindex:"-1",title:"Previous"},"Previous"),C("span",{class:q.infoPageText}),C("button",{class:q.infoPageNext,tabindex:"-1",title:"Next"},"Next")),C("time",{class:q.infoTime,title:"Current time"}),C("time",{class:q.infoTimer,title:"Timer"})))),t})(e.parent)),(e=>{let t=!1;r(q.dragbar).addEventListener("mousedown",(()=>{t=!0,r(q.dragbar).classList.add("active")})),window.addEventListener("mouseup",(()=>{t=!1,r(q.dragbar).classList.remove("active")})),window.addEventListener("mousemove",(e=>{if(!t)return;const n=e.clientX/document.documentElement.clientWidth*100;r(q.container).style.setProperty("--bespoke-marp-presenter-split-ratio",`${Math.max(0,Math.min(100,n))}%`)})),r(q.nextContainer).addEventListener("click",(()=>e.next()));const n=r(q.next),o=(a=n,(e,t)=>{var n;return null===(n=a.contentWindow)||void 0===n?void 0:n.postMessage(`navigate:${e},${t}`,"null"===window.origin?"*":window.origin)});var a;n.addEventListener("load",(()=>{r(q.nextContainer).classList.add("active"),o(e.slide(),e.fragmentIndex),e.on("fragment",(({index:e,fragmentIndex:t})=>o(e,t)))}));const i=document.querySelectorAll(".bespoke-marp-note");i.forEach((e=>{e.addEventListener("keydown",(e=>e.stopPropagation())),r(q.noteWrapper).appendChild(e)})),e.on("activate",(()=>i.forEach((t=>t.classList.toggle("active",t.dataset.index==e.slide())))));let s=0;const l=e=>{s=Math.max(-5,s+e),r(q.noteContainer).style.setProperty("--bespoke-marp-note-font-scale",(1.2**s).toFixed(4))},c=()=>l(1),d=()=>l(-1),u=r(q.noteButtonsBigger),m=r(q.noteButtonsSmaller);u.addEventListener("click",(()=>{u.blur(),c()})),m.addEventListener("click",(()=>{m.blur(),d()})),document.addEventListener("keydown",(e=>{"+"===e.key&&c(),"-"===e.key&&d()}),!0),e.on("activate",(({index:t})=>{r(q.infoPageText).textContent=`${t+1} / ${e.slides.length}`}));const f=r(q.infoPagePrev),g=r(q.infoPageNext);f.addEventListener("click",(t=>{f.blur(),e.prev({fragment:!t.shiftKey})})),g.addEventListener("click",(t=>{g.blur(),e.next({fragment:!t.shiftKey})})),e.on("fragment",(({index:t,fragments:n,fragmentIndex:r})=>{f.disabled=0===t&&0===r,g.disabled=t===e.slides.length-1&&r===n.length-1}));let p=new Date;const v=()=>{const e=new Date,t=e=>`${Math.floor(e)}`.padStart(2,"0"),n=e.getTime()-p.getTime(),o=t(n/1e3%60),a=t(n/1e3/60%60),i=t(n/36e5%24);r(q.infoTime).textContent=e.toLocaleTimeString(),r(q.infoTimer).textContent=`${i}:${a}:${o}`};v(),setInterval(v,250),r(q.infoTimer).addEventListener("click",(()=>{p=new Date}))})(e)},F=e=>{if(!(e=>e.syncKey&&"string"==typeof e.syncKey)(e))throw new Error("The current instance of Bespoke.js is invalid for Marp bespoke presenter plugin.");Object.defineProperties(e,{openPresenterView:{enumerable:!0,value:j},presenterUrl:{enumerable:!0,get:U}}),d&&document.addEventListener("keydown",(t=>{"p"!==t.key||t.altKey||t.ctrlKey||t.metaKey||(t.preventDefault(),e.openPresenterView())}))};function j(){const{max:e,floor:t}=Math,n=e(t(.85*window.innerWidth),640),r=e(t(.85*window.innerHeight),360);return window.open(this.presenterUrl,B+this.syncKey,`width=${n},height=${r},menubar=no,toolbar=no`)}function U(){const e=new URLSearchParams(location.search);return e.set("view","presenter"),e.set("sync",this.syncKey),i(e)}const V=e=>{const t=s();return t===r&&e.appendChild(document.createElement("span")),{"":F,[n]:K,[r]:_}[t]},X=e=>{e.on("activate",(t=>{document.querySelectorAll(".bespoke-progress-parent > .bespoke-progress-bar").forEach((n=>{n.style.flexBasis=100*t.index/(e.slides.length-1)+"%"}))}))},H=e=>{const t=Number.parseInt(e,10);return Number.isNaN(t)?null:t},R=(e={})=>{const t={history:!0,...e};return e=>{let n=!0;const r=e=>{const t=n;try{return n=!0,e()}finally{n=t}},o=(t={fragment:!0})=>{((t,n)=>{const{min:r,max:o}=Math,{fragments:a,slides:i}=e,s=o(0,r(t,i.length-1)),l=o(0,r(n||0,a[s].length-1));s===e.slide()&&l===e.fragmentIndex||e.slide(s,{fragment:l})})((H(location.hash.slice(1))||1)-1,t.fragment?H(l("f")||""):null)};e.on("fragment",(({index:e,fragmentIndex:r})=>{n||c({f:0===r||r.toString()},{location:{...location,hash:`#${e+1}`},setter:(...e)=>t.history?history.pushState(...e):history.replaceState(...e)})})),setTimeout((()=>{o(),window.addEventListener("hashchange",(()=>r((()=>{o({fragment:!1}),c({f:void 0})})))),window.addEventListener("popstate",(()=>{n||r((()=>o()))})),n=!1}),0)}},W=(e={})=>{var n;const r=e.key||(null===(n=window.history.state)||void 0===n?void 0:n.marpBespokeSyncKey)||Math.random().toString(36).slice(2),o=`bespoke-marp-sync-${r}`;var a;a={marpBespokeSyncKey:r},c({},{setter:(e,...n)=>t({...e,...a},...n)});const i=()=>{const e=u(o);return e?JSON.parse(e):Object.create(null)},s=e=>{const t=i(),n={...t,...e(t)};return m(o,JSON.stringify(n)),n},l=()=>{window.removeEventListener("pageshow",l),s((e=>({reference:(e.reference||0)+1})))};return e=>{l(),Object.defineProperty(e,"syncKey",{value:r,enumerable:!0});let t=!0;setTimeout((()=>{e.on("fragment",(e=>{t&&s((()=>({index:e.index,fragmentIndex:e.fragmentIndex})))}))}),0),window.addEventListener("storage",(n=>{if(n.key===o&&n.oldValue&&n.newValue){const r=JSON.parse(n.oldValue),o=JSON.parse(n.newValue);if(r.index!==o.index||r.fragmentIndex!==o.fragmentIndex)try{t=!1,e.slide(o.index,{fragment:o.fragmentIndex,forSync:!0})}finally{t=!0}}}));const n=()=>{const{reference:e}=i();void 0===e||e<=1?f(o):s((()=>({reference:e-1})))};window.addEventListener("pagehide",(e=>{e.persisted&&window.addEventListener("pageshow",l),n()})),e.on("destroy",n)}},{PI:J,abs:Y,sqrt:z,atan2:G}=Math,Q={passive:!0},Z=({slope:e=-.7,swipeThreshold:t=30}={})=>n=>{let r;const o=n.parent,a=e=>{const t=o.getBoundingClientRect();return{x:e.pageX-(t.left+t.right)/2,y:e.pageY-(t.top+t.bottom)/2}};o.addEventListener("touchstart",(({touches:e})=>{r=1===e.length?a(e[0]):void 0}),Q),o.addEventListener("touchmove",(e=>{if(r)if(1===e.touches.length){e.preventDefault();const t=a(e.touches[0]),n=t.x-r.x,o=t.y-r.y;r.delta=z(Y(n)**2+Y(o)**2),r.radian=G(n,o)}else r=void 0})),o.addEventListener("touchend",(o=>{if(r){if(r.delta&&r.delta>=t&&r.radian){const t=(r.radian-e+J)%(2*J)-J;n[t<0?"next":"prev"](),o.stopPropagation()}r=void 0}}),Q)},ee=new Map;ee.clear(),ee.set("none",{backward:{both:void 0,incoming:void 0,outgoing:void 0},forward:{both:void 0,incoming:void 0,outgoing:void 0}});const te={both:"",outgoing:"outgoing-",incoming:"incoming-"},ne={forward:"",backward:"-backward"},re=e=>`--marp-bespoke-transition-animation-${e}`,oe=e=>`--marp-transition-${e}`,ae=re("name"),ie=re("duration"),se=e=>new Promise((t=>{const n={},r=document.createElement("div"),o=e=>{r.remove(),t(e)};r.addEventListener("animationstart",(()=>o(n))),Object.assign(r.style,{animationName:e,animationDuration:"1s",animationFillMode:"both",animationPlayState:"paused",position:"absolute",pointerEvents:"none"}),document.body.appendChild(r);const a=getComputedStyle(r).getPropertyValue(oe("duration"));a&&(n.defaultDuration=a),((e,t)=>{requestAnimationFrame((()=>{e.style.animationPlayState="running",requestAnimationFrame((()=>t(void 0)))}))})(r,o)})),le=async e=>ee.has(e)?ee.get(e):(e=>{const t={},n=[];for(const[r,o]of Object.entries(te))for(const[a,i]of Object.entries(ne)){const s=`marp-${o}transition${i}-${e}`;n.push(se(s).then((e=>{t[a]=t[a]||{},t[a][r]=e?{...e,name:s}:void 0})))}return Promise.all(n).then((()=>t))})(e).then((t=>(ee.set(e,t),t))),ce=e=>Object.values(e).flatMap(Object.values).every((e=>!e)),de=(e,{type:t,backward:n})=>{const r=e[n?"backward":"forward"],o=(()=>{const e=r[t],n=e=>({[ae]:e.name});if(e)return n(e);if(r.both){const e=n(r.both);return"incoming"===t&&(e[re("direction")]="reverse"),e}})();return!o&&n?de(e,{type:t,backward:!1}):o||{[ae]:"__bespoke_marp_transition_no_animation__"}},ue=e=>{if(e)try{const t=JSON.parse(e);if((e=>{if("object"!=typeof e)return!1;const t=e;return"string"==typeof t.name&&(void 0===t.duration||"string"==typeof t.duration)})(t))return t}catch(e){}},me="_tSId",fe="_tA",ge="bespoke-marp-transition-warming-up",pe=window.matchMedia("(prefers-reduced-motion: reduce)"),ve="__bespoke_marp_transition_reduced_outgoing__",he="__bespoke_marp_transition_reduced_incoming__",ye={forward:{both:void 0,incoming:{name:he},outgoing:{name:ve}},backward:{both:void 0,incoming:{name:he},outgoing:{name:ve}}},be=e=>{if(!document.createDocumentTransition)return;const t=t=>(void 0!==t&&(e._tD=t),e._tD);let n;t(!1);const r=(e,n)=>{requestAnimationFrame((async()=>{t(e);try{await n()}catch(e){console.warn(e)}finally{t(!1)}}))};((...e)=>{const t=[...new Set(e).values()];return Promise.all(t.map((e=>le(e)))).then()})(...Array.from(document.querySelectorAll("section[data-transition], section[data-transition-back]")).flatMap((e=>[e.dataset.transition,e.dataset.transitionBack].flatMap((e=>{const t=ue(e);return[null==t?void 0:t.name,(null==t?void 0:t.builtinFallback)?`__builtin__${t.name}`:void 0]})).filter((e=>!!e))))).then((()=>{document.querySelectorAll("style").forEach((e=>{e.innerHTML=e.innerHTML.replace(/--marp-transition-duration:[^;}]*[;}]/g,(e=>e.slice(0,-1)+"!important"+e.slice(-1)))}))}));const o=(n,{back:o,cond:a})=>i=>{var s;const l=t();if(l)return!!i._tA||!("object"!=typeof l||(l.abandon(),!i.forSync));if(!a(i))return!0;const c=e.slides[e.slide()],d=()=>{var e;return null!==(e=i.back)&&void 0!==e?e:o},u="data-transition"+(d()?"-back":""),m=c.querySelector(`section[${u}]`);if(!m)return!0;const f=ue(null!==(s=m.getAttribute(u))&&void 0!==s?s:void 0);return!f||((async(e,{builtinFallback:t=!0}={})=>{let n=await le(e);if(ce(n)){if(!t)return;return n=await le(`__builtin__${e}`),ce(n)?void 0:n}return n})(f.name,{builtinFallback:f.builtinFallback}).then((e=>{if(!e)return r(!0,(()=>n(i)));let o=e;pe.matches&&(console.warn("Use a constant animation to transition because preferring reduced motion by viewer has detected. "),o=ye);const a=document.getElementById(me);a&&a.remove();const s=document.createElement("style");s.id=me,document.head.appendChild(s),((e,t)=>{const n=[`:root{${oe("direction")}:${t.backward?-1:1};}`],r=t=>{var n,o,a;const i=(null===(n=e[t].both)||void 0===n?void 0:n.defaultDuration)||(null===(o=e[t].outgoing)||void 0===o?void 0:o.defaultDuration)||(null===(a=e[t].incoming)||void 0===a?void 0:a.defaultDuration);return"forward"===t?i:i||r("forward")},o=t.duration||r(t.backward?"backward":"forward");void 0!==o&&n.push(`::page-transition-container(*){${ie}:${o};}`);const a=e=>Object.entries(e).map((([e,t])=>`${e}:${t};`)).join("");return n.push(`::page-transition-outgoing-image(root){${a(de(e,{...t,type:"outgoing"}))}}`,`::page-transition-incoming-image(root){${a(de(e,{...t,type:"incoming"}))}}`),n})(o,{backward:d(),duration:f.duration}).forEach((e=>{var t;return null===(t=s.sheet)||void 0===t?void 0:t.insertRule(e)}));try{const e=document.createDocumentTransition(),t=document.documentElement.classList;t.add(ge);let o=!1;const a=()=>{o||(n(i),o=!0,t.remove(ge))};r(e,(async()=>{try{await e.start(a)}catch(e){console.error(e),a()}finally{s.remove(),t.remove(ge)}}))}catch(e){t(!1)}})),!1)};e.on("prev",o((t=>e.prev({...t,[fe]:!0})),{back:!0,cond:e=>{var t;return e.index>0&&!((null===(t=e.fragment)||void 0===t||t)&&n.fragmentIndex>0)}})),e.on("next",o((t=>e.next({...t,[fe]:!0})),{cond:t=>t.index+1<e.slides.length&&!(n.fragmentIndex+1<n.fragments.length)})),setTimeout((()=>{e.on("slide",o((t=>e.slide(t.index,{...t,[fe]:!0})),{cond:t=>{const n=e.slide();return t.index!==n&&(t.back=t.index<n,!0)}}))}),0),e.on("fragment",(e=>{n=e}))};let we;const xe=()=>(void 0===we&&(we="wakeLock"in navigator&&navigator.wakeLock),we),ke=async()=>{const e=xe();if(e)try{return await e.request("screen")}catch(e){console.warn(e)}return null},Ee=async()=>{if(!xe())return;let e;const t=()=>{e&&"visible"===document.visibilityState&&ke()};for(const e of["visibilitychange","fullscreenchange"])document.addEventListener(e,t);return e=await ke(),e};((t=document.getElementById("p"))=>{(()=>{const t=l("view");e.dataset.bespokeView=t===r||t===n?t:""})();const a=(e=>{const t=l(e);return c({[e]:void 0}),t})("sync")||void 0;var i,d,u,m,f,g,h,y,b,x,E,_;i=t,d=((...e)=>{const t=o.findIndex((e=>s()===e));return e.map((([e,n])=>e[t]&&n)).filter((e=>e))})([[1,1,0],W({key:a})],[[1,1,1],V(t)],[[1,1,0],$],[[1,1,1],p],[[1,0,0],k()],[[1,1,1],L],[[1,1,1],R({history:!1})],[[1,1,0],S()],[[1,1,0],w],[[1,0,0],X],[[1,1,0],Z()],[[1,0,0],P()],[[1,0,0],be],[[1,1,1],v],[[1,1,0],Ee]),m=1===(i.parent||i).nodeType?i.parent||i:document.querySelector(i.parent||i),f=[].filter.call("string"==typeof i.slides?m.querySelectorAll(i.slides):i.slides||m.children,(function(e){return"SCRIPT"!==e.nodeName})),g={},h=function(e,t){return(t=t||{}).index=f.indexOf(e),t.slide=e,t},x=function(e,t){f[e]&&(u&&b("deactivate",h(u,t)),u=f[e],b("activate",h(u,t)))},E=function(e,t){var n=f.indexOf(u)+e;b(e>0?"next":"prev",h(u,t))&&x(n,t)},_={off:y=function(e,t){g[e]=(g[e]||[]).filter((function(e){return e!==t}))},on:function(e,t){return(g[e]||(g[e]=[])).push(t),y.bind(null,e,t)},fire:b=function(e,t){return(g[e]||[]).reduce((function(e,n){return e&&!1!==n(t)}),!0)},slide:function(e,t){if(!arguments.length)return f.indexOf(u);b("slide",h(f[e],t))&&x(e,t)},next:E.bind(null,1),prev:E.bind(null,-1),parent:m,slides:f,destroy:function(e){b("destroy",h(u,e)),g={}}},(d||[]).forEach((function(e){e(_)})),u||x(0)})()}();</script></body></html>